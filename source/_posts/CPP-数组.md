---
title: CPP-数组
date: 2021-06-29 15:10:36
tags:
- CPP
- VSCode
- MingGW64
categories: CPP
---

C++ 支持数组数据结构，它可以存储一个固定大小的相同类型元素的顺序集合。数组是用来存储一系列数据，但它往往被认为是一系列相同类型的变量。

所有的数组都是由连续的内存位置组成。最低的地址对应第一个元素，最高的地址对应最后一个元素。

## 声明数组

在 C++ 中要声明一个数组，需要指定元素的类型和元素的数量：

一维数组：

```cpp
type arrayName [ arraySize ];
```

`arraySize` 必须是一个大于零的整数常量，`type` 可以是任意有效的 C++ 数据类型。

例如，要声明一个类型为 double 的包含 10 个元素的数组 balance，声明语句如下：

```cpp
double balance[10];
```

数组在使用时可以是一个含有变量的表达式，但是，在数组声明时必须用常量表达式。例如：

```cpp
// 合法
const int a=19;
long b[a];

// 合法
const int a=19;
long b[a+5];

// 不合法
int a=19;
long b[a+5];
```

如果想声明一个任意长度的数组，可以用显式的类型转换，例如：

```cpp
int a=19;
int b[(const int)a];

// 也可以定义一个常量来声明,例如:
int a=19;
const int a1=a;
int b[a1];
```

## 初始化数组

在 C++ 中，可以逐个初始化数组，也可以使用一个初始化语句，如下所示：

```cpp
double balance[5] = {1000.0, 2.0, 3.4, 7.0, 50.0};
```

如果省略掉了数组的大小，数组的大小则为初始化时元素的个数:

```cpp
double balance[] = {1000.0, 2.0, 3.4, 7.0, 50.0};
```

为数组中某个元素赋值的实例：

```cpp
balance[4] = 51.0;
```

数组直接初始化 `char` 数组是特殊的,这种初始化要记得字符是以一个 `null` 结尾的。

实例

```cpp
char a1[] = {'C', '+', '+'};          // 初始化，没有 null
char a2[] = {'C', '+', '+', '\0'};    // 初始化，明确有 null
char a3[] = "C++";                    // null 终止符自动添加

// a4 是错误的，虽然 a4 包括 6 个直接字符，但是 array 大小是 7：6个字符 + 一个null。
const char a4[6] = "runoob";          // 报错，没有 null 的位置

// 正确的是:
const char a4[7] = "runoob";
```

## 访问数组元素

数组元素可以通过数组名称加索引进行访问。元素的索引是放在方括号内，跟在数组名称的后边。

```cpp
double salary = balance[9];
```