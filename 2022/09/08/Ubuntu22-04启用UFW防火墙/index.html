<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"syxdevcode.github.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="UFW，或称 Uncomplicated Firewall，是 iptables 的一个接口，为不熟悉防火墙概念的初学者提供了易于使用的界面，同时支持 IPv4 和 IPv6，广受欢迎。 更新 Ubuntu1sudo apt update &amp;&amp; sudo apt upgrade -y  注意：docker 自动在防火墙列表中添加了开放端口的规则. 所以根本就没走到 ufw 端口就被">
<meta property="og:type" content="article">
<meta property="og:title" content="Ubuntu22-04启用UFW防火墙">
<meta property="og:url" content="https://syxdevcode.github.com/2022/09/08/Ubuntu22-04%E5%90%AF%E7%94%A8UFW%E9%98%B2%E7%81%AB%E5%A2%99/index.html">
<meta property="og:site_name" content="syxdevcode博客">
<meta property="og:description" content="UFW，或称 Uncomplicated Firewall，是 iptables 的一个接口，为不熟悉防火墙概念的初学者提供了易于使用的界面，同时支持 IPv4 和 IPv6，广受欢迎。 更新 Ubuntu1sudo apt update &amp;&amp; sudo apt upgrade -y  注意：docker 自动在防火墙列表中添加了开放端口的规则. 所以根本就没走到 ufw 端口就被">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-09-08T13:23:19.000Z">
<meta property="article:modified_time" content="2022-09-08T08:44:00.986Z">
<meta property="article:author" content="syxdevcode">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Ubuntu">
<meta property="article:tag" content="安全策略">
<meta property="article:tag" content="Linux基础">
<meta property="article:tag" content="ufw">
<meta property="article:tag" content="iptables">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://syxdevcode.github.com/2022/09/08/Ubuntu22-04%E5%90%AF%E7%94%A8UFW%E9%98%B2%E7%81%AB%E5%A2%99/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Ubuntu22-04启用UFW防火墙 | syxdevcode博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">syxdevcode博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/syxdevcode" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2022/09/08/Ubuntu22-04%E5%90%AF%E7%94%A8UFW%E9%98%B2%E7%81%AB%E5%A2%99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Ubuntu22-04启用UFW防火墙
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-09-08 13:23:19 / 修改时间：08:44:00" itemprop="dateCreated datePublished" datetime="2022-09-08T13:23:19+00:00">2022-09-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%98%B2%E7%81%AB%E5%A2%99/" itemprop="url" rel="index"><span itemprop="name">防火墙</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>UFW，或称 Uncomplicated Firewall，是 iptables 的一个接口，为不熟悉防火墙概念的初学者提供了易于使用的界面，同时支持 IPv4 和 IPv6，广受欢迎。</p>
<h2 id="更新-Ubuntu"><a href="#更新-Ubuntu" class="headerlink" title="更新 Ubuntu"></a>更新 Ubuntu</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update &amp;&amp; sudo apt upgrade -y</span><br></pre></td></tr></table></figure>

<p>注意：docker 自动在防火墙列表中添加了开放端口的规则. 所以根本就没走到 ufw 端口就被放行了。</p>
<h2 id="启用、安装或删除-UFW"><a href="#启用、安装或删除-UFW" class="headerlink" title="启用、安装或删除 UFW"></a>启用、安装或删除 UFW</h2><p>默认情况下，应安装 UFW，但如果已将其删除，请重新安装 UFW。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ufw -y</span><br></pre></td></tr></table></figure>

<h2 id="检查防火墙状态"><a href="#检查防火墙状态" class="headerlink" title="检查防火墙状态"></a>检查防火墙状态</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">服务状态</span></span><br><span class="line">systemctl status ufw</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">UFW 防火墙的状态</span></span><br><span class="line">ufw status</span><br></pre></td></tr></table></figure>

<h2 id="设置-SSH-防火墙规则"><a href="#设置-SSH-防火墙规则" class="headerlink" title="设置 SSH 防火墙规则"></a>设置 SSH 防火墙规则</h2><p>启用防火墙，它将阻止所有传入连接并允许所有传出连接。 这将立即帮助保护您的系统。</p>
<p>对于服务器用户或任何其他使用 SSH 远程连接会话的用户，您可以将自己锁定。 幸运的是，您可以在服务未激活时添加 UFW 规则，从而允许 SSH 服务。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow ssh</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h2 id="启用-禁用防火墙"><a href="#启用-禁用防火墙" class="headerlink" title="启用/禁用防火墙"></a>启用/禁用防火墙</h2><h3 id="启用防火墙"><a href="#启用防火墙" class="headerlink" title="启用防火墙"></a>启用防火墙</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw enable</span><br></pre></td></tr></table></figure>

<p>输出示例：</p>
<p>Firewall is active and enabled on system startup</p>
<p>默认情况下，所有传入流量都会被自动阻止，一旦防火墙启用，所有出站流量都将被允许。 这将立即通过阻止任何人远程连接到您的系统来保护您的系统。</p>
<p>接下来，通过重新使用重新检查您的 Ubuntu 防火墙 ufw 状态命令。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw status</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">　运行附加详细信息的 ufw status 命令以获得更详细的视图。</span></span><br><span class="line">sudo ufw status verbose</span><br></pre></td></tr></table></figure>

<h3 id="禁用防火墙"><a href="#禁用防火墙" class="headerlink" title="禁用防火墙"></a>禁用防火墙</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">禁用 UFW 防火墙</span></span><br><span class="line">sudo ufw disable</span><br></pre></td></tr></table></figure>

<h3 id="完全删除-UFW（不推荐）"><a href="#完全删除-UFW（不推荐）" class="headerlink" title="完全删除 UFW（不推荐）"></a>完全删除 UFW（不推荐）</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt remove ufw --purge</span><br></pre></td></tr></table></figure>

<p>除非您有可靠的选择或知道如何使用 IPTables，否则不要删除 UFW，尤其是在运行连接到公共的服务器环境时。 这将是灾难性的。</p>
<h2 id="检查-UFW-状态"><a href="#检查-UFW-状态" class="headerlink" title="检查 UFW 状态"></a>检查 UFW 状态</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw status numbered</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@test:/lims# ufw status numbered</span><br><span class="line">Status: active</span><br><span class="line"></span><br><span class="line">     To                         Action      From</span><br><span class="line">     --                         ------      ----</span><br><span class="line">[ 1] 22/tcp                     ALLOW IN    Anywhere</span><br><span class="line">[ 2] 22/tcp (v6)                ALLOW IN    Anywhere (v6)</span><br></pre></td></tr></table></figure>

<h2 id="设置-配置-UFW-默认策略"><a href="#设置-配置-UFW-默认策略" class="headerlink" title="设置/配置 UFW 默认策略"></a>设置/配置 UFW 默认策略</h2><p>UFW 防火墙的默认策略是拒绝所有传入连接，只允许出站连接到系统。 通常最安全的默认方式是没有人可以访问您的服务器，除非您允许 IP 地址/范围、程序、端口或所有这些的组合。 默认情况下，您的系统可以访问外部，除非您有特定的安全要求，否则不应对其进行调整。</p>
<p>可以在 <code>/etc/default/ufw</code> 找到默认的 UFW 防火墙策略。</p>
<p><strong>拒绝所有传入连接：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw default deny incoming</span><br></pre></td></tr></table></figure>

<p><strong>允许所有传出连接：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw default allow outgoing</span><br></pre></td></tr></table></figure>

<p>这已在启用时设置为默认规则，但您可以使用相同的原则来更改它们以满足您的目的。</p>
<p><strong>阻止所有传出连接：</strong></p>
<p>例如，默认情况下阻止所有传入通信，但您希望阻止所有传出并仅允许出站连接，然后使用以下命令。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw default deny outgoing</span><br></pre></td></tr></table></figure>

<p>这是一个极端的措施； 对于普通服务器和台式机来说，阻止传入连接通常就足够了，但特定环境可以从额外的安全预防措施中受益。 缺点是您需要维护所有传出连接，这可能很耗时，而且需要不断设置新规则。</p>
<h2 id="查看-UFW-应用程序配置文件"><a href="#查看-UFW-应用程序配置文件" class="headerlink" title="查看 UFW 应用程序配置文件"></a>查看 UFW 应用程序配置文件</h2><p>要显示所有应用程序配置文件，您可以键入以下内容。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw app list</span><br></pre></td></tr></table></figure>

<p>应用程序配置文件的一个方便功能是查找有关 UFW 应用程序列表中列出的服务的更多信息。</p>
<p>应用程序的一般描述和它使用的端口的打印输出。 当您调查开放端口并且不确定它们与哪些应用程序相关以及它们的作用时，这是一个方便的功能。</p>
<p>为此，请键入以下命令以查找有关现有配置文件的更多信息。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw app info &#x27;Nginx Full&#x27;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@test:/lims# sudo ufw app info &#x27;Nginx Full&#x27;</span><br><span class="line">Profile: Nginx Full</span><br><span class="line">Title: Web Server (Nginx, HTTP + HTTPS)</span><br><span class="line">Description: Small, but very powerful and efficient web server</span><br><span class="line"></span><br><span class="line">Ports:</span><br><span class="line">  80,443/tcp</span><br></pre></td></tr></table></figure>

<h2 id="在-UFW-上允许-启用-IPv6"><a href="#在-UFW-上允许-启用-IPv6" class="headerlink" title="在 UFW 上允许/启用 IPv6"></a>在 UFW 上允许/启用 IPv6</h2><p>如果您的系统配置了 IPv6，则需要确保 UFW 配置了 IPv6 和 IPv4 支持。 默认情况下，这应该是自动启用的； 但是，您应该检查并在需要时对其进行修改。 您可以在下面执行此操作。</p>
<p>打开默认的 UFW 防火墙文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/default/ufw</span><br></pre></td></tr></table></figure>

<p>如果未设置，请将以下行调整为 yes。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IPV6=yes</span><br></pre></td></tr></table></figure>

<p>CTRL + O 保存对文件的新更改，然后按 CTRL + X 退出文件。</p>
<p>现在重新启动 UFW 防火墙服务以使更改生效。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart ufw</span><br></pre></td></tr></table></figure>

<h2 id="允许-启用-UFW-端口"><a href="#允许-启用-UFW-端口" class="headerlink" title="允许/启用 UFW 端口"></a>允许/启用 UFW 端口</h2><p>使用 UFW，您可以打开防火墙中的特定端口以允许为特定应用程序指定的连接。 您可以为应用程序设置自定义规则。 这个规则的一个很好的例子是设置一个监听端口的网络服务器 80 (HTTP) and 443 (HTTPS) 默认情况下。</p>
<h3 id="允许-HTTP-端口-80"><a href="#允许-HTTP-端口-80" class="headerlink" title="允许 HTTP 端口 80"></a>允许 HTTP 端口 80</h3><p><strong>通过应用程序配置文件允许：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow &#x27;Nginx HTTP&#x27;</span><br></pre></td></tr></table></figure>

<p><strong>按服务名称允许：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow http</span><br></pre></td></tr></table></figure>

<p><strong>按端口号允许：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow 80/tcp</span><br></pre></td></tr></table></figure>

<h3 id="允许-HTTPS-端口-443"><a href="#允许-HTTPS-端口-443" class="headerlink" title="允许 HTTPS 端口 443"></a>允许 HTTPS 端口 443</h3><p><strong>通过应用程序配置文件允许：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow &#x27;Nginx HTTPS&#x27;</span><br></pre></td></tr></table></figure>

<p><strong>按服务名称允许：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow https</span><br></pre></td></tr></table></figure>

<p><strong>按端口号允许：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow 443/tcp</span><br></pre></td></tr></table></figure>

<p>请注意，您可以使用以下命令默认启用所有规则。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow &#x27;Nginx Full&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="UFW-允许端口范围"><a href="#UFW-允许端口范围" class="headerlink" title="UFW 允许端口范围"></a>UFW 允许端口范围</h3><p>UFW 可以允许访问端口范围。 打开端口范围时，您必须确定端口协议。</p>
<p><strong>允许使用 TCP 和 UDP 的端口范围：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow 6500:6800/tcp</span><br><span class="line">sudo ufw allow 6500:6800/udp</span><br></pre></td></tr></table></figure>

<p>或者，您可以一次允许多个端口，但范围可能更容易访问。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow 6500, 6501, 6505, 6509/tcp</span><br><span class="line">sudo ufw allow 6500, 6501, 6505, 6509/udp</span><br></pre></td></tr></table></figure>

<h2 id="允许-启用-UFW-上的远程连接"><a href="#允许-启用-UFW-上的远程连接" class="headerlink" title="允许/启用 UFW 上的远程连接"></a>允许/启用 UFW 上的远程连接</h2><h3 id="UFW-允许特定-IP-地址"><a href="#UFW-允许特定-IP-地址" class="headerlink" title="UFW 允许特定 IP 地址"></a>UFW 允许特定 IP 地址</h3><p>例如，要允许指定 IP 地址，您在内部网络上并要求系统一起通信，请使用以下命令。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow from 192.168.55.131</span><br></pre></td></tr></table></figure>

<h2 id="UFW-允许特定端口上的特定-IP-地址"><a href="#UFW-允许特定端口上的特定-IP-地址" class="headerlink" title="UFW 允许特定端口上的特定 IP 地址"></a>UFW 允许特定端口上的特定 IP 地址</h2><p>启用 IP 以通过定义的端口连接到您的系统 （示例端口 “3900”），键入以下内容。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow from 192.168.55.131 to any port 3900</span><br></pre></td></tr></table></figure>

<h3 id="允许子网连接到指定端口"><a href="#允许子网连接到指定端口" class="headerlink" title="允许子网连接到指定端口"></a>允许子网连接到指定端口</h3><p>如果您需要从 IP 范围子网到特定端口的整个连接范围，您可以通过创建以下规则来启用此功能。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow from 192.168.1.0/24 to any port 3900</span><br></pre></td></tr></table></figure>

<p>这将允许从 192.168.1.1 到 192.168.1.254 的所有 IP 地址连接到端口 3900。</p>
<h3 id="允许特定网络接口"><a href="#允许特定网络接口" class="headerlink" title="允许特定网络接口"></a>允许特定网络接口</h3><p>例如，允许连接到特定的网络接口， “Eth2” 到指定的端口 3900。您可以通过创建以下规则来实现此目的。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow in on eth2 to any port 3900</span><br></pre></td></tr></table></figure>

<h2 id="拒绝-阻止-UFW-上的远程连接"><a href="#拒绝-阻止-UFW-上的远程连接" class="headerlink" title="拒绝/阻止 UFW 上的远程连接"></a>拒绝/阻止 UFW 上的远程连接</h2><p>根据 UFW 的默认设置策略，安装后，所有传入连接都设置为 “否定。” 这将拒绝所有传入流量，除非您创建规则以允许连接通过。</p>
<p>但是，您已经注意到一个特定的 IP 地址在您的日志中不断攻击您。 用以下方法阻止它。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny from 203.13.56.121</span><br></pre></td></tr></table></figure>

<p>黑客使用来自同一子网的多个 IP 地址来入侵您。 创建以下内容以阻止。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny from 203.13.56.121/24</span><br></pre></td></tr></table></figure>

<p>您可以创建特定规则来拒绝对特定端口的访问。 键入以下示例。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny from 203.13.56.121/24 to any port 80</span><br><span class="line">sudo ufw deny from 203.13.56.121/24 to any port 443</span><br></pre></td></tr></table></figure>

<h2 id="删除-删除-UFW-规则"><a href="#删除-删除-UFW-规则" class="headerlink" title="删除/删除 UFW 规则"></a>删除/删除 UFW 规则</h2><p>要使用规则编号删除 UFW 规则，您必须通过键入以下内容列出规则编号。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw status numbered</span><br></pre></td></tr></table></figure>

<p>该示例将删除第三条规则 IP 地址 1.1.1.1， 上面突出显示。</p>
<p>在您的终端中键入以下内容。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw delete 3</span><br></pre></td></tr></table></figure>

<h2 id="访问和查看-UFW-日志"><a href="#访问和查看-UFW-日志" class="headerlink" title="访问和查看 UFW 日志"></a>访问和查看 UFW 日志</h2><p>默认情况下，UFW 日志记录设置为低，这对于大多数桌面系统来说都很好。 但是，服务器可能需要更高级别的日志记录。</p>
<p>要将 UFW 日志记录设置为低（默认）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw logging low</span><br></pre></td></tr></table></figure>

<p>要将 UFW 日志记录设置为中等监控：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw logging medium</span><br></pre></td></tr></table></figure>

<p>要将 UFW 日志记录设置为高：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw logging high</span><br></pre></td></tr></table></figure>

<p>最后一个选项是完全禁用日志记录，确保您对此感到满意并且不需要日志检查。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw logging off</span><br></pre></td></tr></table></figure>

<p>要查看 UFW 日志，它们保存在默认位置 <code>/var/log/ufw.log</code> 。</p>
<p>查看实时日志的一种简单快捷的方法是使用 tail 命令。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw tail -f /var/log/ufw.log</span><br></pre></td></tr></table></figure>

<p>或者，您可以使用 -n.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw tail /var/log/ufw.log -n 30</span><br></pre></td></tr></table></figure>

<p>这将打印出日志的最后 30 行。 您可以使用 GREP 和其他排序命令进一步微调。</p>
<h2 id="测试-UFW-规则"><a href="#测试-UFW-规则" class="headerlink" title="测试 UFW 规则"></a>测试 UFW 规则</h2><p>高度关键的系统，在玩弄防火墙设置时是一个不错的选择，可以添加 – 试运行标志. 这允许查看可能发生但未处理的更改的示例。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw --dry-run enable</span><br></pre></td></tr></table></figure>

<p>禁用 – 试运行标志, 使用以下命令。</p>
<h2 id="重置-UFW-规则"><a href="#重置-UFW-规则" class="headerlink" title="重置 UFW 规则"></a>重置 UFW 规则</h2><p>要将您的防火墙重置回其原始状态并将所有传入阻止和传出设置为允许，请键入以下内容进行重置。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw reset</span><br></pre></td></tr></table></figure>

<p>确认重置，输入以下内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw status</span><br></pre></td></tr></table></figure>

<p>输出应该是：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Status: inactive</span><br></pre></td></tr></table></figure>

<p>UFW 防火墙重置后，您现在需要重新启用防火墙并开始添加规则的整个过程。 如果可能，应谨慎使用重置命令。</p>
<h2 id="查找-搜索所有开放端口（安全检查）"><a href="#查找-搜索所有开放端口（安全检查）" class="headerlink" title="查找/搜索所有开放端口（安全检查）"></a>查找/搜索所有开放端口（安全检查）</h2><p>大多数系统没有意识到它们可以打开端口。 在互联网上每个 IP 地址每天都被扫描的时代，观察幕后发生的事情至关重要。</p>
<p>最好的选择是安装 Nmap，然后使用这个著名的应用程序列出打开的端口。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install nmap -y</span><br></pre></td></tr></table></figure>

<p>接下来，找到系统的内部 IP 地址。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostname -I</span><br></pre></td></tr></table></figure>

<p>输出示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.50.214</span><br></pre></td></tr></table></figure>

<p>现在使用以下 Nmap 命令和服务器的 IP 地址。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap 192.168.50.214</span><br></pre></td></tr></table></figure>

<p>如上，除 80 端口外，所有端口都关闭，这是 UFW 规则中允许的，所以这是令人满意的。</p>
<p>但是，如果您在关闭或阻止端口之前发现端口已打开，如果您不确定，请先调查它们是什么，因为这可能会中断服务，或者更糟糕的情况是，将您锁定在服务器之外。</p>
<h2 id="安装-UFW-防火墙-GUI-可选"><a href="#安装-UFW-防火墙-GUI-可选" class="headerlink" title="安装 UFW 防火墙 GUI(可选)"></a>安装 UFW 防火墙 GUI(可选)</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gufw -y</span><br></pre></td></tr></table></figure>

<p>接下来，转到左上角并按照 活动 &gt; 显示应用程序 &gt; 防火墙配置 调出 GUI(firewall)。</p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://zh-cn.linuxcapable.com/%E5%9C%A8-ubuntu-22-04-%E4%B8%8A%E5%AE%89%E8%A3%85%E5%90%AF%E7%94%A8%E9%85%8D%E7%BD%AE-ufw-%E9%98%B2%E7%81%AB%E5%A2%99/">如何在 Ubuntu 22.04 LTS 上安装和配置 UFW 防火墙</a></p>
<p><a target="_blank" rel="noopener" href="https://zh-cn.linuxcapable.com/how-to-enable-disable-firewall-on-ubuntu-22-04-lts/">如何在 Ubuntu 22.04 LTS 上启用/禁用防火墙</a></p>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/Linux/" rel="tag"><i class="fa fa-tag"></i> Linux</a>
              <a href="/tags/Ubuntu/" rel="tag"><i class="fa fa-tag"></i> Ubuntu</a>
              <a href="/tags/%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5/" rel="tag"><i class="fa fa-tag"></i> 安全策略</a>
              <a href="/tags/Linux%E5%9F%BA%E7%A1%80/" rel="tag"><i class="fa fa-tag"></i> Linux基础</a>
              <a href="/tags/ufw/" rel="tag"><i class="fa fa-tag"></i> ufw</a>
              <a href="/tags/iptables/" rel="tag"><i class="fa fa-tag"></i> iptables</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/09/07/Docker%20%E6%8E%A8%E9%80%81%E9%95%9C%E5%83%8F/" rel="prev" title="Docker 推送镜像">
      <i class="fa fa-chevron-left"></i> Docker 推送镜像
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/09/08/ufw%20%E7%A6%81%E7%94%A8%E7%AB%AF%E5%8F%A3%E6%9C%AA%E7%94%9F%E6%95%88/" rel="next" title="ufw 禁用端口未生效">
      ufw 禁用端口未生效 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%B4%E6%96%B0-Ubuntu"><span class="nav-number">1.</span> <span class="nav-text">更新 Ubuntu</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%AF%E7%94%A8%E3%80%81%E5%AE%89%E8%A3%85%E6%88%96%E5%88%A0%E9%99%A4-UFW"><span class="nav-number">2.</span> <span class="nav-text">启用、安装或删除 UFW</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E9%98%B2%E7%81%AB%E5%A2%99%E7%8A%B6%E6%80%81"><span class="nav-number">3.</span> <span class="nav-text">检查防火墙状态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE-SSH-%E9%98%B2%E7%81%AB%E5%A2%99%E8%A7%84%E5%88%99"><span class="nav-number">4.</span> <span class="nav-text">设置 SSH 防火墙规则</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%AF%E7%94%A8-%E7%A6%81%E7%94%A8%E9%98%B2%E7%81%AB%E5%A2%99"><span class="nav-number">5.</span> <span class="nav-text">启用&#x2F;禁用防火墙</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%AF%E7%94%A8%E9%98%B2%E7%81%AB%E5%A2%99"><span class="nav-number">5.1.</span> <span class="nav-text">启用防火墙</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A6%81%E7%94%A8%E9%98%B2%E7%81%AB%E5%A2%99"><span class="nav-number">5.2.</span> <span class="nav-text">禁用防火墙</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%8C%E5%85%A8%E5%88%A0%E9%99%A4-UFW%EF%BC%88%E4%B8%8D%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="nav-number">5.3.</span> <span class="nav-text">完全删除 UFW（不推荐）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5-UFW-%E7%8A%B6%E6%80%81"><span class="nav-number">6.</span> <span class="nav-text">检查 UFW 状态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE-%E9%85%8D%E7%BD%AE-UFW-%E9%BB%98%E8%AE%A4%E7%AD%96%E7%95%A5"><span class="nav-number">7.</span> <span class="nav-text">设置&#x2F;配置 UFW 默认策略</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B-UFW-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">8.</span> <span class="nav-text">查看 UFW 应用程序配置文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%A8-UFW-%E4%B8%8A%E5%85%81%E8%AE%B8-%E5%90%AF%E7%94%A8-IPv6"><span class="nav-number">9.</span> <span class="nav-text">在 UFW 上允许&#x2F;启用 IPv6</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%81%E8%AE%B8-%E5%90%AF%E7%94%A8-UFW-%E7%AB%AF%E5%8F%A3"><span class="nav-number">10.</span> <span class="nav-text">允许&#x2F;启用 UFW 端口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%81%E8%AE%B8-HTTP-%E7%AB%AF%E5%8F%A3-80"><span class="nav-number">10.1.</span> <span class="nav-text">允许 HTTP 端口 80</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%81%E8%AE%B8-HTTPS-%E7%AB%AF%E5%8F%A3-443"><span class="nav-number">10.2.</span> <span class="nav-text">允许 HTTPS 端口 443</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UFW-%E5%85%81%E8%AE%B8%E7%AB%AF%E5%8F%A3%E8%8C%83%E5%9B%B4"><span class="nav-number">10.3.</span> <span class="nav-text">UFW 允许端口范围</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%81%E8%AE%B8-%E5%90%AF%E7%94%A8-UFW-%E4%B8%8A%E7%9A%84%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5"><span class="nav-number">11.</span> <span class="nav-text">允许&#x2F;启用 UFW 上的远程连接</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#UFW-%E5%85%81%E8%AE%B8%E7%89%B9%E5%AE%9A-IP-%E5%9C%B0%E5%9D%80"><span class="nav-number">11.1.</span> <span class="nav-text">UFW 允许特定 IP 地址</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UFW-%E5%85%81%E8%AE%B8%E7%89%B9%E5%AE%9A%E7%AB%AF%E5%8F%A3%E4%B8%8A%E7%9A%84%E7%89%B9%E5%AE%9A-IP-%E5%9C%B0%E5%9D%80"><span class="nav-number">12.</span> <span class="nav-text">UFW 允许特定端口上的特定 IP 地址</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%81%E8%AE%B8%E5%AD%90%E7%BD%91%E8%BF%9E%E6%8E%A5%E5%88%B0%E6%8C%87%E5%AE%9A%E7%AB%AF%E5%8F%A3"><span class="nav-number">12.1.</span> <span class="nav-text">允许子网连接到指定端口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%81%E8%AE%B8%E7%89%B9%E5%AE%9A%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3"><span class="nav-number">12.2.</span> <span class="nav-text">允许特定网络接口</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8B%92%E7%BB%9D-%E9%98%BB%E6%AD%A2-UFW-%E4%B8%8A%E7%9A%84%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5"><span class="nav-number">13.</span> <span class="nav-text">拒绝&#x2F;阻止 UFW 上的远程连接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4-%E5%88%A0%E9%99%A4-UFW-%E8%A7%84%E5%88%99"><span class="nav-number">14.</span> <span class="nav-text">删除&#x2F;删除 UFW 规则</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E5%92%8C%E6%9F%A5%E7%9C%8B-UFW-%E6%97%A5%E5%BF%97"><span class="nav-number">15.</span> <span class="nav-text">访问和查看 UFW 日志</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-UFW-%E8%A7%84%E5%88%99"><span class="nav-number">16.</span> <span class="nav-text">测试 UFW 规则</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%87%8D%E7%BD%AE-UFW-%E8%A7%84%E5%88%99"><span class="nav-number">17.</span> <span class="nav-text">重置 UFW 规则</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE-%E6%90%9C%E7%B4%A2%E6%89%80%E6%9C%89%E5%BC%80%E6%94%BE%E7%AB%AF%E5%8F%A3%EF%BC%88%E5%AE%89%E5%85%A8%E6%A3%80%E6%9F%A5%EF%BC%89"><span class="nav-number">18.</span> <span class="nav-text">查找&#x2F;搜索所有开放端口（安全检查）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-UFW-%E9%98%B2%E7%81%AB%E5%A2%99-GUI-%E5%8F%AF%E9%80%89"><span class="nav-number">19.</span> <span class="nav-text">安装 UFW 防火墙 GUI(可选)</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="syxdevcode"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">syxdevcode</p>
  <div class="site-description" itemprop="description">syxdevcode的个人博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">568</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">141</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">212</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/syxdevcode" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;syxdevcode" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">syxdevcode</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">1.8m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">27:14</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
