<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"syxdevcode.github.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="创建对应目录123456mkdir -p &#x2F;opt&#x2F;grafana&#x2F;loki&#x2F;configmkdir -p &#x2F;opt&#x2F;grafana&#x2F;loki&#x2F;datamkdir -p &#x2F;opt&#x2F;grafana&#x2F;promtail&#x2F;logmkdir -p &#x2F;opt&#x2F;grafana&#x2F;confmkdir -p &#x2F;opt&#x2F;grafana&#x2F;datamkdir -p &#x2F;opt&#x2F;grafana&#x2F;log  创建配置文件loki配">
<meta property="og:type" content="article">
<meta property="og:title" content="Grafana-Loki-Promtail使用Docker-Compose安装">
<meta property="og:url" content="https://syxdevcode.github.com/2022/10/24/Grafana-Loki-Promtail%E4%BD%BF%E7%94%A8Docker-Compose%E5%AE%89%E8%A3%85/index.html">
<meta property="og:site_name" content="syxdevcode博客">
<meta property="og:description" content="创建对应目录123456mkdir -p &#x2F;opt&#x2F;grafana&#x2F;loki&#x2F;configmkdir -p &#x2F;opt&#x2F;grafana&#x2F;loki&#x2F;datamkdir -p &#x2F;opt&#x2F;grafana&#x2F;promtail&#x2F;logmkdir -p &#x2F;opt&#x2F;grafana&#x2F;confmkdir -p &#x2F;opt&#x2F;grafana&#x2F;datamkdir -p &#x2F;opt&#x2F;grafana&#x2F;log  创建配置文件loki配">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-10-24T17:50:52.000Z">
<meta property="article:modified_time" content="2022-11-11T08:46:56.393Z">
<meta property="article:author" content="syxdevcode">
<meta property="article:tag" content="Docker">
<meta property="article:tag" content="Ubuntu">
<meta property="article:tag" content="Docker Compose">
<meta property="article:tag" content="Grafana">
<meta property="article:tag" content="Loki">
<meta property="article:tag" content="Promtail">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://syxdevcode.github.com/2022/10/24/Grafana-Loki-Promtail%E4%BD%BF%E7%94%A8Docker-Compose%E5%AE%89%E8%A3%85/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Grafana-Loki-Promtail使用Docker-Compose安装 | syxdevcode博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">syxdevcode博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/syxdevcode" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2022/10/24/Grafana-Loki-Promtail%E4%BD%BF%E7%94%A8Docker-Compose%E5%AE%89%E8%A3%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Grafana-Loki-Promtail使用Docker-Compose安装
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-10-24 17:50:52" itemprop="dateCreated datePublished" datetime="2022-10-24T17:50:52+00:00">2022-10-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-11-11 08:46:56" itemprop="dateModified" datetime="2022-11-11T08:46:56+00:00">2022-11-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Grafana/" itemprop="url" rel="index"><span itemprop="name">Grafana</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>51k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>47 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="创建对应目录"><a href="#创建对应目录" class="headerlink" title="创建对应目录"></a>创建对应目录</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /opt/grafana/loki/config</span><br><span class="line"><span class="built_in">mkdir</span> -p /opt/grafana/loki/data</span><br><span class="line"><span class="built_in">mkdir</span> -p /opt/grafana/promtail/log</span><br><span class="line"><span class="built_in">mkdir</span> -p /opt/grafana/conf</span><br><span class="line"><span class="built_in">mkdir</span> -p /opt/grafana/data</span><br><span class="line"><span class="built_in">mkdir</span> -p /opt/grafana/log</span><br></pre></td></tr></table></figure>

<h2 id="创建配置文件"><a href="#创建配置文件" class="headerlink" title="创建配置文件"></a>创建配置文件</h2><h3 id="loki配置文件"><a href="#loki配置文件" class="headerlink" title="loki配置文件"></a>loki配置文件</h3><p>路径：<code>/opt/grafana/loki/config/local-config.yaml</code> :</p>
<p>参考：<a target="_blank" rel="noopener" href="https://grafana.com/docs/loki/latest/configuration/">Configuring Grafana Loki</a></p>
<span id="more"></span>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">auth_enabled:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">http_listen_port:</span> <span class="number">3100</span></span><br><span class="line">  <span class="attr">grpc_server_max_recv_msg_size:</span> <span class="number">157286400</span>  <span class="comment"># 150M 可接收的最大 gRPC 消息大小</span></span><br><span class="line">  <span class="attr">grpc_server_max_send_msg_size:</span> <span class="number">157286400</span>  <span class="comment"># 150M 可以发送的最大 gRPC 消息大小</span></span><br><span class="line"></span><br><span class="line"><span class="attr">common:</span></span><br><span class="line">  <span class="attr">path_prefix:</span> <span class="string">/loki</span></span><br><span class="line">  <span class="attr">storage:</span></span><br><span class="line">    <span class="attr">filesystem:</span></span><br><span class="line">      <span class="attr">chunks_directory:</span> <span class="string">/loki/chunks</span></span><br><span class="line">      <span class="attr">rules_directory:</span> <span class="string">/loki/rules</span></span><br><span class="line">  <span class="attr">replication_factor:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">ring:</span></span><br><span class="line">    <span class="attr">kvstore:</span></span><br><span class="line">      <span class="attr">store:</span> <span class="string">inmemory</span></span><br><span class="line"></span><br><span class="line"><span class="attr">schema_config:</span></span><br><span class="line">  <span class="attr">configs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">from:</span> <span class="number">2020-10-24</span></span><br><span class="line">      <span class="attr">store:</span> <span class="string">boltdb-shipper</span></span><br><span class="line">      <span class="attr">object_store:</span> <span class="string">filesystem</span></span><br><span class="line">      <span class="attr">schema:</span> <span class="string">v11</span></span><br><span class="line">      <span class="attr">index:</span></span><br><span class="line">        <span class="attr">prefix:</span> <span class="string">loki_index_</span></span><br><span class="line">        <span class="attr">period:</span> <span class="string">24h</span></span><br><span class="line"></span><br><span class="line"><span class="attr">limits_config:</span></span><br><span class="line">  <span class="attr">retention_period:</span> <span class="string">5760h</span></span><br><span class="line">  <span class="attr">ingestion_rate_strategy:</span> <span class="string">local</span>  </span><br><span class="line">  <span class="attr">ingestion_rate_mb:</span> <span class="number">15</span> <span class="comment"># 每个用户每秒的采样率限制</span></span><br><span class="line">  <span class="attr">ingestion_burst_size_mb:</span> <span class="number">30</span> <span class="comment"># 每个用户允许的采样突发大小</span></span><br><span class="line">  <span class="attr">reject_old_samples:</span> <span class="literal">true</span>   <span class="comment"># 是否拒绝旧样本</span></span><br><span class="line">  <span class="attr">reject_old_samples_max_age:</span> <span class="string">4440h</span>   <span class="comment"># 4440h小时之前的样本被拒绝</span></span><br><span class="line">  <span class="attr">max_query_length:</span> <span class="string">4440h</span>  <span class="comment"># 块存储查询的长度限制。禁用=0h，默认default = 721h</span></span><br><span class="line"></span><br><span class="line"><span class="attr">storage_config:</span></span><br><span class="line">  <span class="attr">boltdb_shipper:</span></span><br><span class="line">    <span class="attr">active_index_directory:</span> <span class="string">/loki/boltdb-shipper-active</span></span><br><span class="line">    <span class="attr">cache_location:</span> <span class="string">/loki/boltdb-shipper-cache</span></span><br><span class="line">    <span class="attr">cache_ttl:</span> <span class="string">24h</span></span><br><span class="line">    <span class="attr">shared_store:</span> <span class="string">filesystem</span></span><br><span class="line">  <span class="attr">filesystem:</span></span><br><span class="line">    <span class="attr">directory:</span> <span class="string">/loki/chunks</span></span><br><span class="line"></span><br><span class="line"><span class="attr">compactor:</span></span><br><span class="line">  <span class="attr">working_directory:</span> <span class="string">/loki/retention</span></span><br><span class="line">  <span class="attr">shared_store:</span> <span class="string">filesystem</span></span><br><span class="line">  <span class="attr">compaction_interval:</span> <span class="string">60m</span></span><br><span class="line">  <span class="attr">retention_enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">retention_delete_delay:</span> <span class="string">72h</span></span><br><span class="line">  <span class="attr">retention_delete_worker_count:</span> <span class="number">150</span></span><br><span class="line">  </span><br><span class="line"><span class="attr">table_manager:</span></span><br><span class="line">  <span class="attr">retention_deletes_enabled:</span> <span class="literal">true</span>   <span class="comment"># 保留删除开启</span></span><br><span class="line">  <span class="attr">retention_period:</span> <span class="string">5760h</span>  <span class="comment"># 超过5760h的块数据将被删除</span></span><br><span class="line"></span><br><span class="line"><span class="attr">chunk_store_config:</span></span><br><span class="line">  <span class="attr">max_look_back_period:</span> <span class="string">4440h</span> <span class="comment"># 限制可以查询回溯数据的长度</span></span><br><span class="line"></span><br><span class="line"><span class="attr">ruler:</span></span><br><span class="line">  <span class="attr">alertmanager_url:</span> <span class="string">http://localhost:9093</span></span><br></pre></td></tr></table></figure>

<h3 id="grafana配置文件"><a href="#grafana配置文件" class="headerlink" title="grafana配置文件"></a>grafana配置文件</h3><p>grafana 默认配置文件从容器中拷贝出来：</p>
<p>51d298b61d78：容器Id。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> 51d298b61d78:/etc/grafana/grafana.ini /opt/grafana/conf</span><br></pre></td></tr></table></figure>

<p>注意：注释使用英文分号（<code>;</code>）开头，单独占一行。在分号后面的文字，直到该行结尾都全部为注释。</p>
<p>主要修改 <code>[dataproxy]</code> 部分超时设置：</p>
<details>
  <summary>grafana.ini配置</summary>

   <figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##################### Grafana Configuration Example #####################</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Everything has defaults so you only need to uncomment things you want to</span></span><br><span class="line"><span class="comment"># change</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># possible values : production, development</span></span><br><span class="line"><span class="comment">;app_mode = production</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># instance name, defaults to HOSTNAME environment variable value or hostname if HOSTNAME var is empty</span></span><br><span class="line"><span class="comment">;instance_name = $&#123;HOSTNAME&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># force migration will run migrations that might cause dataloss</span></span><br><span class="line"><span class="comment">;force_migration = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Paths ####################################</span></span><br><span class="line"><span class="section">[paths]</span></span><br><span class="line"><span class="comment"># Path to where grafana can store temp files, sessions, and the sqlite3 db (if that is used)</span></span><br><span class="line"><span class="comment">;data = /var/lib/grafana</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Temporary files in `data` directory older than given duration will be removed</span></span><br><span class="line"><span class="comment">;temp_data_lifetime = 24h</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory where grafana can store logs</span></span><br><span class="line"><span class="comment">;logs = /var/log/grafana</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory where grafana will automatically scan and look for plugins</span></span><br><span class="line"><span class="comment">;plugins = /var/lib/grafana/plugins</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># folder that contains provisioning config files that grafana will apply on startup and while running.</span></span><br><span class="line"><span class="comment">;provisioning = conf/provisioning</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Server ####################################</span></span><br><span class="line"><span class="section">[server]</span></span><br><span class="line"><span class="comment"># Protocol (http, https, h2, socket)</span></span><br><span class="line"><span class="comment">;protocol = http</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The ip address to bind to, empty will bind to all interfaces</span></span><br><span class="line"><span class="comment">;http_addr =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The http port  to use</span></span><br><span class="line"><span class="comment">;http_port = 3000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The public facing domain name used to access grafana from a browser</span></span><br><span class="line"><span class="comment">;domain = localhost</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Redirect to correct domain if host header does not match domain</span></span><br><span class="line"><span class="comment"># Prevents DNS rebinding attacks</span></span><br><span class="line"><span class="comment">;enforce_domain = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The full public facing url you use in browser, used for redirects and emails</span></span><br><span class="line"><span class="comment"># If you use reverse proxy and sub path specify full url (with sub path)</span></span><br><span class="line"><span class="comment">;root_url = %(protocol)s://%(domain)s:%(http_port)s/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Serve Grafana from subpath specified in `root_url` setting. By default it is set to `false` for compatibility reasons.</span></span><br><span class="line"><span class="comment">;serve_from_sub_path = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Log web requests</span></span><br><span class="line"><span class="comment">;router_logging = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># the path relative working path</span></span><br><span class="line"><span class="comment">;static_root_path = public</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># enable gzip</span></span><br><span class="line"><span class="comment">;enable_gzip = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># https certs &amp; key file</span></span><br><span class="line"><span class="comment">;cert_file =</span></span><br><span class="line"><span class="comment">;cert_key =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Unix socket path</span></span><br><span class="line"><span class="comment">;socket =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># CDN Url</span></span><br><span class="line"><span class="comment">;cdn_url =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sets the maximum time using a duration format (5s/5m/5ms) before timing out read of an incoming request and closing idle connections.</span></span><br><span class="line"><span class="comment"># `0` means there is no timeout for reading the request.</span></span><br><span class="line"><span class="comment">;read_timeout = 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Database ####################################</span></span><br><span class="line"><span class="section">[database]</span></span><br><span class="line"><span class="comment"># You can configure the database connection by specifying type, host, name, user and password</span></span><br><span class="line"><span class="comment"># as separate properties or as on string using the url properties.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Either &quot;mysql&quot;, &quot;postgres&quot; or &quot;sqlite3&quot;, it&#x27;s your choice</span></span><br><span class="line"><span class="comment">;type = sqlite3</span></span><br><span class="line"><span class="comment">;host = 127.0.0.1:3306</span></span><br><span class="line"><span class="comment">;name = grafana</span></span><br><span class="line"><span class="comment">;user = root</span></span><br><span class="line"><span class="comment"># If the password contains # or ; you have to wrap it with triple quotes. Ex &quot;&quot;&quot;#password;&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment">;password =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Use either URL or the previous fields to configure the database</span></span><br><span class="line"><span class="comment"># Example: mysql://user:secret@host:port/database</span></span><br><span class="line"><span class="comment">;url =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># For &quot;postgres&quot; only, either &quot;disable&quot;, &quot;require&quot; or &quot;verify-full&quot;</span></span><br><span class="line"><span class="comment">;ssl_mode = disable</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Database drivers may support different transaction isolation levels.</span></span><br><span class="line"><span class="comment"># Currently, only &quot;mysql&quot; driver supports isolation levels.</span></span><br><span class="line"><span class="comment"># If the value is empty - driver&#x27;s default isolation level is applied.</span></span><br><span class="line"><span class="comment"># For &quot;mysql&quot; use &quot;READ-UNCOMMITTED&quot;, &quot;READ-COMMITTED&quot;, &quot;REPEATABLE-READ&quot; or &quot;SERIALIZABLE&quot;.</span></span><br><span class="line"><span class="comment">;isolation_level =</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;ca_cert_path =</span></span><br><span class="line"><span class="comment">;client_key_path =</span></span><br><span class="line"><span class="comment">;client_cert_path =</span></span><br><span class="line"><span class="comment">;server_cert_name =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># For &quot;sqlite3&quot; only, path relative to data_path setting</span></span><br><span class="line"><span class="comment">;path = grafana.db</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Max idle conn setting default is 2</span></span><br><span class="line"><span class="comment">;max_idle_conn = 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Max conn setting default is 0 (mean not set)</span></span><br><span class="line"><span class="comment">;max_open_conn =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Connection Max Lifetime default is 14400 (means 14400 seconds or 4 hours)</span></span><br><span class="line"><span class="comment">;conn_max_lifetime = 14400</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true to log the sql calls and execution times.</span></span><br><span class="line"><span class="comment">;log_queries =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># For &quot;sqlite3&quot; only. cache mode setting used for connecting to the database. (private, shared)</span></span><br><span class="line"><span class="comment">;cache_mode = private</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># For &quot;mysql&quot; only if migrationLocking feature toggle is set. How many seconds to wait before failing to lock the database for the migrations, default is 0.</span></span><br><span class="line"><span class="comment">;locking_attempt_timeout_sec = 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">################################### Data sources #########################</span></span><br><span class="line"><span class="section">[datasources]</span></span><br><span class="line"><span class="comment"># Upper limit of data sources that Grafana will return. This limit is a temporary configuration and it will be deprecated when pagination will be introduced on the list data sources API.</span></span><br><span class="line"><span class="comment">;datasource_limit = 5000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Cache server #############################</span></span><br><span class="line"><span class="section">[remote_cache]</span></span><br><span class="line"><span class="comment"># Either &quot;redis&quot;, &quot;memcached&quot; or &quot;database&quot; default is &quot;database&quot;</span></span><br><span class="line"><span class="comment">;type = database</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cache connectionstring options</span></span><br><span class="line"><span class="comment"># database: will use Grafana primary database.</span></span><br><span class="line"><span class="comment"># redis: config like redis server e.g. `addr=127.0.0.1:6379,pool_size=100,db=0,ssl=false`. Only addr is required. ssl may be &#x27;true&#x27;, &#x27;false&#x27;, or &#x27;insecure&#x27;.</span></span><br><span class="line"><span class="comment"># memcache: 127.0.0.1:11211</span></span><br><span class="line"><span class="comment">;connstr =</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Data proxy ###########################</span></span><br><span class="line"><span class="section">[dataproxy]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This enables data proxy logging, default is false</span></span><br><span class="line"><span class="comment">;logging = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># How long the data proxy waits to read the headers of the response before timing out, default is 30 seconds.</span></span><br><span class="line"><span class="comment"># This setting also applies to core backend HTTP data sources where query requests use an HTTP client with timeout set.</span></span><br><span class="line"><span class="attr">timeout</span> = <span class="number">180</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># How long the data proxy waits to establish a TCP connection before timing out, default is 10 seconds.</span></span><br><span class="line"><span class="comment">;dialTimeout = 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># How many seconds the data proxy waits before sending a keepalive probe request.</span></span><br><span class="line"><span class="comment">;keep_alive_seconds = 30</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># How many seconds the data proxy waits for a successful TLS Handshake before timing out.</span></span><br><span class="line"><span class="comment">;tls_handshake_timeout_seconds = 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># How many seconds the data proxy will wait for a server&#x27;s first response headers after</span></span><br><span class="line"><span class="comment"># fully writing the request headers if the request has an &quot;Expect: 100-continue&quot;</span></span><br><span class="line"><span class="comment"># header. A value of 0 will result in the body being sent immediately, without</span></span><br><span class="line"><span class="comment"># waiting for the server to approve.</span></span><br><span class="line"><span class="comment">;expect_continue_timeout_seconds = 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Optionally limits the total number of connections per host, including connections in the dialing,</span></span><br><span class="line"><span class="comment"># active, and idle states. On limit violation, dials will block.</span></span><br><span class="line"><span class="comment"># A value of zero (0) means no limit.</span></span><br><span class="line"><span class="comment">;max_conns_per_host = 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The maximum number of idle connections that Grafana will keep alive.</span></span><br><span class="line"><span class="comment">;max_idle_connections = 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># How many seconds the data proxy keeps an idle connection open before timing out.</span></span><br><span class="line"><span class="comment">;idle_conn_timeout_seconds = 90</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If enabled and user is not anonymous, data proxy will add X-Grafana-User header with username into the request, default is false.</span></span><br><span class="line"><span class="comment">;send_user_header = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Limit the amount of bytes that will be read/accepted from responses of outgoing HTTP requests.</span></span><br><span class="line"><span class="comment">;response_limit = 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Limits the number of rows that Grafana will process from SQL data sources.</span></span><br><span class="line"><span class="comment">;row_limit = 1000000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Analytics ####################################</span></span><br><span class="line"><span class="section">[analytics]</span></span><br><span class="line"><span class="comment"># Server reporting, sends usage counters to stats.grafana.org every 24 hours.</span></span><br><span class="line"><span class="comment"># No ip addresses are being tracked, only simple counters to track</span></span><br><span class="line"><span class="comment"># running instances, dashboard and error counts. It is very helpful to us.</span></span><br><span class="line"><span class="comment"># Change this option to false to disable reporting.</span></span><br><span class="line"><span class="comment">;reporting_enabled = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The name of the distributor of the Grafana instance. Ex hosted-grafana, grafana-labs</span></span><br><span class="line"><span class="comment">;reporting_distributor = grafana-labs</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to false to disable all checks to https://grafana.com</span></span><br><span class="line"><span class="comment"># for new versions of grafana. The check is used</span></span><br><span class="line"><span class="comment"># in some UI views to notify that a grafana update exists.</span></span><br><span class="line"><span class="comment"># This option does not cause any auto updates, nor send any information</span></span><br><span class="line"><span class="comment"># only a GET request to https://raw.githubusercontent.com/grafana/grafana/main/latest.json to get the latest version.</span></span><br><span class="line"><span class="comment">;check_for_updates = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to false to disable all checks to https://grafana.com</span></span><br><span class="line"><span class="comment"># for new versions of plugins. The check is used</span></span><br><span class="line"><span class="comment"># in some UI views to notify that a plugin update exists.</span></span><br><span class="line"><span class="comment"># This option does not cause any auto updates, nor send any information</span></span><br><span class="line"><span class="comment"># only a GET request to https://grafana.com to get the latest versions.</span></span><br><span class="line"><span class="comment">;check_for_plugin_updates = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Google Analytics universal tracking code, only enabled if you specify an id here</span></span><br><span class="line"><span class="comment">;google_analytics_ua_id =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Google Analytics 4 tracking code, only enabled if you specify an id here</span></span><br><span class="line"><span class="comment">;google_analytics_4_id = </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Google Tag Manager ID, only enabled if you specify an id here</span></span><br><span class="line"><span class="comment">;google_tag_manager_id =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Rudderstack write key, enabled only if rudderstack_data_plane_url is also set</span></span><br><span class="line"><span class="comment">;rudderstack_write_key =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Rudderstack data plane url, enabled only if rudderstack_write_key is also set</span></span><br><span class="line"><span class="comment">;rudderstack_data_plane_url =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Rudderstack SDK url, optional, only valid if rudderstack_write_key and rudderstack_data_plane_url is also set</span></span><br><span class="line"><span class="comment">;rudderstack_sdk_url =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Rudderstack Config url, optional, used by Rudderstack SDK to fetch source config</span></span><br><span class="line"><span class="comment">;rudderstack_config_url =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Controls if the UI contains any links to user feedback forms</span></span><br><span class="line"><span class="comment">;feedback_links_enabled = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Security ####################################</span></span><br><span class="line"><span class="section">[security]</span></span><br><span class="line"><span class="comment"># disable creation of admin user on first start of grafana</span></span><br><span class="line"><span class="comment">;disable_initial_admin_creation = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># default admin user, created on startup</span></span><br><span class="line"><span class="comment">;admin_user = admin</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># default admin password, can be changed before first start of grafana,  or in profile settings</span></span><br><span class="line"><span class="comment">;admin_password = admin</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># default admin email, created on startup</span></span><br><span class="line"><span class="comment">;admin_email = admin@localhost</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># used for signing</span></span><br><span class="line"><span class="comment">;secret_key = SW2YcwTIb9zpOOhoPsMm</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># current key provider used for envelope encryption, default to static value specified by secret_key</span></span><br><span class="line"><span class="comment">;encryption_provider = secretKey.v1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># list of configured key providers, space separated (Enterprise only): e.g., awskms.v1 azurekv.v1</span></span><br><span class="line"><span class="comment">;available_encryption_providers =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># disable gravatar profile images</span></span><br><span class="line"><span class="comment">;disable_gravatar = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># data source proxy whitelist (ip_or_domain:port separated by spaces)</span></span><br><span class="line"><span class="comment">;data_source_proxy_whitelist =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># disable protection against brute force login attempts</span></span><br><span class="line"><span class="comment">;disable_brute_force_login_protection = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># set to true if you host Grafana behind HTTPS. default is false.</span></span><br><span class="line"><span class="comment">;cookie_secure = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># set cookie SameSite attribute. defaults to `lax`. can be set to &quot;lax&quot;, &quot;strict&quot;, &quot;none&quot; and &quot;disabled&quot;</span></span><br><span class="line"><span class="comment">;cookie_samesite = lax</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># set to true if you want to allow browsers to render Grafana in a &lt;frame&gt;, &lt;iframe&gt;, &lt;embed&gt; or &lt;object&gt;. default is false.</span></span><br><span class="line"><span class="comment">;allow_embedding = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true if you want to enable http strict transport security (HSTS) response header.</span></span><br><span class="line"><span class="comment"># HSTS tells browsers that the site should only be accessed using HTTPS.</span></span><br><span class="line"><span class="comment">;strict_transport_security = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sets how long a browser should cache HSTS. Only applied if strict_transport_security is enabled.</span></span><br><span class="line"><span class="comment">;strict_transport_security_max_age_seconds = 86400</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true if to enable HSTS preloading option. Only applied if strict_transport_security is enabled.</span></span><br><span class="line"><span class="comment">;strict_transport_security_preload = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true if to enable the HSTS includeSubDomains option. Only applied if strict_transport_security is enabled.</span></span><br><span class="line"><span class="comment">;strict_transport_security_subdomains = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true to enable the X-Content-Type-Options response header.</span></span><br><span class="line"><span class="comment"># The X-Content-Type-Options response HTTP header is a marker used by the server to indicate that the MIME types advertised</span></span><br><span class="line"><span class="comment"># in the Content-Type headers should not be changed and be followed.</span></span><br><span class="line"><span class="comment">;x_content_type_options = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true to enable the X-XSS-Protection header, which tells browsers to stop pages from loading</span></span><br><span class="line"><span class="comment"># when they detect reflected cross-site scripting (XSS) attacks.</span></span><br><span class="line"><span class="comment">;x_xss_protection = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable adding the Content-Security-Policy header to your requests.</span></span><br><span class="line"><span class="comment"># CSP allows to control resources the user agent is allowed to load and helps prevent XSS attacks.</span></span><br><span class="line"><span class="comment">;content_security_policy = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set Content Security Policy template used when adding the Content-Security-Policy header to your requests.</span></span><br><span class="line"><span class="comment"># $NONCE in the template includes a random nonce.</span></span><br><span class="line"><span class="comment"># $ROOT_PATH is server.root_url without the protocol.</span></span><br><span class="line"><span class="comment">;content_security_policy_template = &quot;&quot;&quot;script-src &#x27;self&#x27; &#x27;unsafe-eval&#x27; &#x27;unsafe-inline&#x27; &#x27;strict-dynamic&#x27; $NONCE;object-src &#x27;none&#x27;;font-src &#x27;self&#x27;;style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27; blob:;img-src * data:;base-uri &#x27;self&#x27;;connect-src &#x27;self&#x27; grafana.com ws://$ROOT_PATH wss://$ROOT_PATH;manifest-src &#x27;self&#x27;;media-src &#x27;none&#x27;;form-action &#x27;self&#x27;;&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Controls if old angular plugins are supported or not. This will be disabled by default in future release</span></span><br><span class="line"><span class="comment">;angular_support_enabled = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># List of additional allowed URLs to pass by the CSRF check, separated by spaces. Suggested when authentication comes from an IdP.</span></span><br><span class="line"><span class="comment">;csrf_trusted_origins = example.com</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># List of allowed headers to be set by the user, separated by spaces. Suggested to use for if authentication lives behind reverse proxies.</span></span><br><span class="line"><span class="comment">;csrf_additional_headers =</span></span><br><span class="line"></span><br><span class="line"><span class="section">[security.encryption]</span></span><br><span class="line"><span class="comment"># Defines the time-to-live (TTL) for decrypted data encryption keys stored in memory (cache).</span></span><br><span class="line"><span class="comment"># Please note that small values may cause performance issues due to a high frequency decryption operations.</span></span><br><span class="line"><span class="comment">;data_keys_cache_ttl = 15m</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Defines the frequency of data encryption keys cache cleanup interval.</span></span><br><span class="line"><span class="comment"># On every interval, decrypted data encryption keys that reached the TTL are removed from the cache.</span></span><br><span class="line"><span class="comment">;data_keys_cache_cleanup_interval = 1m</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Snapshots ###########################</span></span><br><span class="line"><span class="section">[snapshots]</span></span><br><span class="line"><span class="comment"># snapshot sharing options</span></span><br><span class="line"><span class="comment">;external_enabled = true</span></span><br><span class="line"><span class="comment">;external_snapshot_url = https://snapshots.raintank.io</span></span><br><span class="line"><span class="comment">;external_snapshot_name = Publish to snapshots.raintank.io</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true to enable this Grafana instance act as an external snapshot server and allow unauthenticated requests for</span></span><br><span class="line"><span class="comment"># creating and deleting snapshots.</span></span><br><span class="line"><span class="comment">;public_mode = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># remove expired snapshot</span></span><br><span class="line"><span class="comment">;snapshot_remove_expired = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Dashboards History ##################</span></span><br><span class="line"><span class="section">[dashboards]</span></span><br><span class="line"><span class="comment"># Number dashboard versions to keep (per dashboard). Default: 20, Minimum: 1</span></span><br><span class="line"><span class="comment">;versions_to_keep = 20</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Minimum dashboard refresh interval. When set, this will restrict users to set the refresh interval of a dashboard lower than given interval. Per default this is 5 seconds.</span></span><br><span class="line"><span class="comment"># The interval string is a possibly signed sequence of decimal numbers, followed by a unit suffix (ms, s, m, h, d), e.g. 30s or 1m.</span></span><br><span class="line"><span class="comment">;min_refresh_interval = 5s</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Path to the default home dashboard. If this value is empty, then Grafana uses StaticRootPath + &quot;dashboards/home.json&quot;</span></span><br><span class="line"><span class="comment">;default_home_dashboard_path =</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Users ###############################</span></span><br><span class="line"><span class="section">[users]</span></span><br><span class="line"><span class="comment"># disable user signup / registration</span></span><br><span class="line"><span class="comment">;allow_sign_up = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Allow non admin users to create organizations</span></span><br><span class="line"><span class="comment">;allow_org_create = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true to automatically assign new users to the default organization (id 1)</span></span><br><span class="line"><span class="comment">;auto_assign_org = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set this value to automatically add new users to the provided organization (if auto_assign_org above is set to true)</span></span><br><span class="line"><span class="comment">;auto_assign_org_id = 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Default role new users will be automatically assigned (if disabled above is set to true)</span></span><br><span class="line"><span class="comment">;auto_assign_org_role = Viewer</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Require email validation before sign up completes</span></span><br><span class="line"><span class="comment">;verify_email_enabled = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Background text for the user field on the login page</span></span><br><span class="line"><span class="comment">;login_hint = email or username</span></span><br><span class="line"><span class="comment">;password_hint = password</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Default UI theme (&quot;dark&quot; or &quot;light&quot;)</span></span><br><span class="line"><span class="comment">;default_theme = dark</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Default locale (supported IETF language tag, such as en-US)</span></span><br><span class="line"><span class="comment">;default_locale = en-US</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Path to a custom home page. Users are only redirected to this if the default home dashboard is used. It should match a frontend route and contain a leading slash.</span></span><br><span class="line"><span class="comment">;home_page =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># External user management, these options affect the organization users view</span></span><br><span class="line"><span class="comment">;external_manage_link_url =</span></span><br><span class="line"><span class="comment">;external_manage_link_name =</span></span><br><span class="line"><span class="comment">;external_manage_info =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Viewers can edit/inspect dashboard settings in the browser. But not save the dashboard.</span></span><br><span class="line"><span class="comment">;viewers_can_edit = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Editors can administrate dashboard, folders and teams they create</span></span><br><span class="line"><span class="comment">;editors_can_admin = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The duration in time a user invitation remains valid before expiring. This setting should be expressed as a duration. Examples: 6h (hours), 2d (days), 1w (week). Default is 24h (24 hours). The minimum supported duration is 15m (15 minutes).</span></span><br><span class="line"><span class="comment">;user_invite_max_lifetime_duration = 24h</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enter a comma-separated list of users login to hide them in the Grafana UI. These users are shown to Grafana admins and themselves.</span></span><br><span class="line"><span class="comment">; hidden_users =</span></span><br><span class="line"></span><br><span class="line"><span class="section">[auth]</span></span><br><span class="line"><span class="comment"># Login cookie name</span></span><br><span class="line"><span class="comment">;login_cookie_name = grafana_session</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The maximum lifetime (duration) an authenticated user can be inactive before being required to login at next visit. Default is 7 days (7d). This setting should be expressed as a duration, e.g. 5m (minutes), 6h (hours), 10d (days), 2w (weeks), 1M (month). The lifetime resets at each successful token rotation.</span></span><br><span class="line"><span class="comment">;login_maximum_inactive_lifetime_duration =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The maximum lifetime (duration) an authenticated user can be logged in since login time before being required to login. Default is 30 days (30d). This setting should be expressed as a duration, e.g. 5m (minutes), 6h (hours), 10d (days), 2w (weeks), 1M (month).</span></span><br><span class="line"><span class="comment">;login_maximum_lifetime_duration =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># How often should auth tokens be rotated for authenticated users when being active. The default is each 10 minutes.</span></span><br><span class="line"><span class="comment">;token_rotation_interval_minutes = 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true to disable (hide) the login form, useful if you use OAuth, defaults to false</span></span><br><span class="line"><span class="comment">;disable_login_form = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true to disable the sign out link in the side menu. Useful if you use auth.proxy or auth.jwt, defaults to false</span></span><br><span class="line"><span class="comment">;disable_signout_menu = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL to redirect the user to after sign out</span></span><br><span class="line"><span class="comment">;signout_redirect_url =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true to attempt login with OAuth automatically, skipping the login screen.</span></span><br><span class="line"><span class="comment"># This setting is ignored if multiple OAuth providers are configured.</span></span><br><span class="line"><span class="comment">;oauth_auto_login = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># OAuth state max age cookie duration in seconds. Defaults to 600 seconds.</span></span><br><span class="line"><span class="comment">;oauth_state_cookie_max_age = 600</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Skip forced assignment of OrgID 1 or &#x27;auto_assign_org_id&#x27; for social logins</span></span><br><span class="line"><span class="comment">;oauth_skip_org_role_update_sync = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># limit of api_key seconds to live before expiration</span></span><br><span class="line"><span class="comment">;api_key_max_seconds_to_live = -1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true to enable SigV4 authentication option for HTTP-based datasources.</span></span><br><span class="line"><span class="comment">;sigv4_auth_enabled = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true to enable verbose logging of SigV4 request signing</span></span><br><span class="line"><span class="comment">;sigv4_verbose_logging = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true to enable Azure authentication option for HTTP-based datasources.</span></span><br><span class="line"><span class="comment">;azure_auth_enabled = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Anonymous Auth ######################</span></span><br><span class="line"><span class="section">[auth.anonymous]</span></span><br><span class="line"><span class="comment"># enable anonymous access</span></span><br><span class="line"><span class="comment">;enabled = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># specify organization name that should be used for unauthenticated users</span></span><br><span class="line"><span class="comment">;org_name = Main Org.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># specify role for unauthenticated users</span></span><br><span class="line"><span class="comment">;org_role = Viewer</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># mask the Grafana version number for unauthenticated users</span></span><br><span class="line"><span class="comment">;hide_version = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### GitHub Auth ##########################</span></span><br><span class="line"><span class="section">[auth.github]</span></span><br><span class="line"><span class="comment">;enabled = false</span></span><br><span class="line"><span class="comment">;allow_sign_up = true</span></span><br><span class="line"><span class="comment">;client_id = some_id</span></span><br><span class="line"><span class="comment">;client_secret = some_secret</span></span><br><span class="line"><span class="comment">;scopes = user:email,read:org</span></span><br><span class="line"><span class="comment">;auth_url = https://github.com/login/oauth/authorize</span></span><br><span class="line"><span class="comment">;token_url = https://github.com/login/oauth/access_token</span></span><br><span class="line"><span class="comment">;api_url = https://api.github.com/user</span></span><br><span class="line"><span class="comment">;allowed_domains =</span></span><br><span class="line"><span class="comment">;team_ids =</span></span><br><span class="line"><span class="comment">;allowed_organizations =</span></span><br><span class="line"><span class="comment">;role_attribute_path =</span></span><br><span class="line"><span class="comment">;role_attribute_strict = false</span></span><br><span class="line"><span class="comment">;allow_assign_grafana_admin = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### GitLab Auth #########################</span></span><br><span class="line"><span class="section">[auth.gitlab]</span></span><br><span class="line"><span class="comment">;enabled = false</span></span><br><span class="line"><span class="comment">;allow_sign_up = true</span></span><br><span class="line"><span class="comment">;client_id = some_id</span></span><br><span class="line"><span class="comment">;client_secret = some_secret</span></span><br><span class="line"><span class="comment">;scopes = api</span></span><br><span class="line"><span class="comment">;auth_url = https://gitlab.com/oauth/authorize</span></span><br><span class="line"><span class="comment">;token_url = https://gitlab.com/oauth/token</span></span><br><span class="line"><span class="comment">;api_url = https://gitlab.com/api/v4</span></span><br><span class="line"><span class="comment">;allowed_domains =</span></span><br><span class="line"><span class="comment">;allowed_groups =</span></span><br><span class="line"><span class="comment">;role_attribute_path =</span></span><br><span class="line"><span class="comment">;role_attribute_strict = false</span></span><br><span class="line"><span class="comment">;allow_assign_grafana_admin = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Google Auth ##########################</span></span><br><span class="line"><span class="section">[auth.google]</span></span><br><span class="line"><span class="comment">;enabled = false</span></span><br><span class="line"><span class="comment">;allow_sign_up = true</span></span><br><span class="line"><span class="comment">;client_id = some_client_id</span></span><br><span class="line"><span class="comment">;client_secret = some_client_secret</span></span><br><span class="line"><span class="comment">;scopes = https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email</span></span><br><span class="line"><span class="comment">;auth_url = https://accounts.google.com/o/oauth2/auth</span></span><br><span class="line"><span class="comment">;token_url = https://accounts.google.com/o/oauth2/token</span></span><br><span class="line"><span class="comment">;api_url = https://www.googleapis.com/oauth2/v1/userinfo</span></span><br><span class="line"><span class="comment">;allowed_domains =</span></span><br><span class="line"><span class="comment">;hosted_domain =</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Grafana.com Auth ####################</span></span><br><span class="line"><span class="section">[auth.grafana_com]</span></span><br><span class="line"><span class="comment">;enabled = false</span></span><br><span class="line"><span class="comment">;allow_sign_up = true</span></span><br><span class="line"><span class="comment">;client_id = some_id</span></span><br><span class="line"><span class="comment">;client_secret = some_secret</span></span><br><span class="line"><span class="comment">;scopes = user:email</span></span><br><span class="line"><span class="comment">;allowed_organizations =</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Azure AD OAuth #######################</span></span><br><span class="line"><span class="section">[auth.azuread]</span></span><br><span class="line"><span class="comment">;name = Azure AD</span></span><br><span class="line"><span class="comment">;enabled = false</span></span><br><span class="line"><span class="comment">;allow_sign_up = true</span></span><br><span class="line"><span class="comment">;client_id = some_client_id</span></span><br><span class="line"><span class="comment">;client_secret = some_client_secret</span></span><br><span class="line"><span class="comment">;scopes = openid email profile</span></span><br><span class="line"><span class="comment">;auth_url = https://login.microsoftonline.com/&lt;tenant-id&gt;/oauth2/v2.0/authorize</span></span><br><span class="line"><span class="comment">;token_url = https://login.microsoftonline.com/&lt;tenant-id&gt;/oauth2/v2.0/token</span></span><br><span class="line"><span class="comment">;allowed_domains =</span></span><br><span class="line"><span class="comment">;allowed_groups =</span></span><br><span class="line"><span class="comment">;role_attribute_strict = false</span></span><br><span class="line"><span class="comment">;allow_assign_grafana_admin = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Okta OAuth #######################</span></span><br><span class="line"><span class="section">[auth.okta]</span></span><br><span class="line"><span class="comment">;name = Okta</span></span><br><span class="line"><span class="comment">;enabled = false</span></span><br><span class="line"><span class="comment">;allow_sign_up = true</span></span><br><span class="line"><span class="comment">;client_id = some_id</span></span><br><span class="line"><span class="comment">;client_secret = some_secret</span></span><br><span class="line"><span class="comment">;scopes = openid profile email groups</span></span><br><span class="line"><span class="comment">;auth_url = https://&lt;tenant-id&gt;.okta.com/oauth2/v1/authorize</span></span><br><span class="line"><span class="comment">;token_url = https://&lt;tenant-id&gt;.okta.com/oauth2/v1/token</span></span><br><span class="line"><span class="comment">;api_url = https://&lt;tenant-id&gt;.okta.com/oauth2/v1/userinfo</span></span><br><span class="line"><span class="comment">;allowed_domains =</span></span><br><span class="line"><span class="comment">;allowed_groups =</span></span><br><span class="line"><span class="comment">;role_attribute_path =</span></span><br><span class="line"><span class="comment">;role_attribute_strict = false</span></span><br><span class="line"><span class="comment">;allow_assign_grafana_admin = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Generic OAuth ##########################</span></span><br><span class="line"><span class="section">[auth.generic_oauth]</span></span><br><span class="line"><span class="comment">;enabled = false</span></span><br><span class="line"><span class="comment">;name = OAuth</span></span><br><span class="line"><span class="comment">;allow_sign_up = true</span></span><br><span class="line"><span class="comment">;client_id = some_id</span></span><br><span class="line"><span class="comment">;client_secret = some_secret</span></span><br><span class="line"><span class="comment">;scopes = user:email,read:org</span></span><br><span class="line"><span class="comment">;empty_scopes = false</span></span><br><span class="line"><span class="comment">;email_attribute_name = email:primary</span></span><br><span class="line"><span class="comment">;email_attribute_path =</span></span><br><span class="line"><span class="comment">;login_attribute_path =</span></span><br><span class="line"><span class="comment">;name_attribute_path =</span></span><br><span class="line"><span class="comment">;id_token_attribute_name =</span></span><br><span class="line"><span class="comment">;auth_url = https://foo.bar/login/oauth/authorize</span></span><br><span class="line"><span class="comment">;token_url = https://foo.bar/login/oauth/access_token</span></span><br><span class="line"><span class="comment">;api_url = https://foo.bar/user</span></span><br><span class="line"><span class="comment">;teams_url =</span></span><br><span class="line"><span class="comment">;allowed_domains =</span></span><br><span class="line"><span class="comment">;team_ids =</span></span><br><span class="line"><span class="comment">;allowed_organizations =</span></span><br><span class="line"><span class="comment">;role_attribute_path =</span></span><br><span class="line"><span class="comment">;role_attribute_strict = false</span></span><br><span class="line"><span class="comment">;groups_attribute_path =</span></span><br><span class="line"><span class="comment">;team_ids_attribute_path =</span></span><br><span class="line"><span class="comment">;tls_skip_verify_insecure = false</span></span><br><span class="line"><span class="comment">;tls_client_cert =</span></span><br><span class="line"><span class="comment">;tls_client_key =</span></span><br><span class="line"><span class="comment">;tls_client_ca =</span></span><br><span class="line"><span class="comment">;use_pkce = false</span></span><br><span class="line"><span class="comment">;auth_style =</span></span><br><span class="line"><span class="comment">;allow_assign_grafana_admin = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Basic Auth ##########################</span></span><br><span class="line"><span class="section">[auth.basic]</span></span><br><span class="line"><span class="comment">;enabled = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Auth Proxy ##########################</span></span><br><span class="line"><span class="section">[auth.proxy]</span></span><br><span class="line"><span class="comment">;enabled = false</span></span><br><span class="line"><span class="comment">;header_name = X-WEBAUTH-USER</span></span><br><span class="line"><span class="comment">;header_property = username</span></span><br><span class="line"><span class="comment">;auto_sign_up = true</span></span><br><span class="line"><span class="comment">;sync_ttl = 60</span></span><br><span class="line"><span class="comment">;whitelist = 192.168.1.1, 192.168.2.1</span></span><br><span class="line"><span class="comment">;headers = Email:X-User-Email, Name:X-User-Name</span></span><br><span class="line"><span class="comment"># Non-ASCII strings in header values are encoded using quoted-printable encoding</span></span><br><span class="line"><span class="comment">;headers_encoded = false</span></span><br><span class="line"><span class="comment"># Read the auth proxy docs for details on what the setting below enables</span></span><br><span class="line"><span class="comment">;enable_login_token = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Auth JWT ##########################</span></span><br><span class="line"><span class="section">[auth.jwt]</span></span><br><span class="line"><span class="comment">;enabled = true</span></span><br><span class="line"><span class="comment">;header_name = X-JWT-Assertion</span></span><br><span class="line"><span class="comment">;email_claim = sub</span></span><br><span class="line"><span class="comment">;username_claim = sub</span></span><br><span class="line"><span class="comment">;jwk_set_url = https://foo.bar/.well-known/jwks.json</span></span><br><span class="line"><span class="comment">;jwk_set_file = /path/to/jwks.json</span></span><br><span class="line"><span class="comment">;cache_ttl = 60m</span></span><br><span class="line"><span class="comment">;expected_claims = &#123;&quot;aud&quot;: [&quot;foo&quot;, &quot;bar&quot;]&#125;</span></span><br><span class="line"><span class="comment">;key_file = /path/to/key/file</span></span><br><span class="line"><span class="comment">;role_attribute_path =</span></span><br><span class="line"><span class="comment">;role_attribute_strict = false</span></span><br><span class="line"><span class="comment">;auto_sign_up = false</span></span><br><span class="line"><span class="comment">;url_login = false</span></span><br><span class="line"><span class="comment">;allow_assign_grafana_admin = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Auth LDAP ##########################</span></span><br><span class="line"><span class="section">[auth.ldap]</span></span><br><span class="line"><span class="comment">;enabled = false</span></span><br><span class="line"><span class="comment">;config_file = /etc/grafana/ldap.toml</span></span><br><span class="line"><span class="comment">;allow_sign_up = true</span></span><br><span class="line"><span class="comment"># prevent synchronizing ldap users organization roles</span></span><br><span class="line"><span class="comment">;skip_org_role_sync = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># LDAP background sync (Enterprise only)</span></span><br><span class="line"><span class="comment"># At 1 am every day</span></span><br><span class="line"><span class="comment">;sync_cron = &quot;0 1 * * *&quot;</span></span><br><span class="line"><span class="comment">;active_sync_enabled = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### AWS ###########################</span></span><br><span class="line"><span class="section">[aws]</span></span><br><span class="line"><span class="comment"># Enter a comma-separated list of allowed AWS authentication providers.</span></span><br><span class="line"><span class="comment"># Options are: default (AWS SDK Default), keys (Access &amp;&amp; secret key), credentials (Credentials field), ec2_iam_role (EC2 IAM Role)</span></span><br><span class="line"><span class="comment">; allowed_auth_providers = default,keys,credentials</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Allow AWS users to assume a role using temporary security credentials.</span></span><br><span class="line"><span class="comment"># If true, assume role will be enabled for all AWS authentication providers that are specified in aws_auth_providers</span></span><br><span class="line"><span class="comment">; assume_role_enabled = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Azure ###############################</span></span><br><span class="line"><span class="section">[azure]</span></span><br><span class="line"><span class="comment"># Azure cloud environment where Grafana is hosted</span></span><br><span class="line"><span class="comment"># Possible values are AzureCloud, AzureChinaCloud, AzureUSGovernment and AzureGermanCloud</span></span><br><span class="line"><span class="comment"># Default value is AzureCloud (i.e. public cloud)</span></span><br><span class="line"><span class="comment">;cloud = AzureCloud</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specifies whether Grafana hosted in Azure service with Managed Identity configured (e.g. Azure Virtual Machines instance)</span></span><br><span class="line"><span class="comment"># If enabled, the managed identity can be used for authentication of Grafana in Azure services</span></span><br><span class="line"><span class="comment"># Disabled by default, needs to be explicitly enabled</span></span><br><span class="line"><span class="comment">;managed_identity_enabled = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Client ID to use for user-assigned managed identity</span></span><br><span class="line"><span class="comment"># Should be set for user-assigned identity and should be empty for system-assigned identity</span></span><br><span class="line"><span class="comment">;managed_identity_client_id =</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Role-based Access Control ###########</span></span><br><span class="line"><span class="section">[rbac]</span></span><br><span class="line"><span class="comment">;permission_cache = true</span></span><br><span class="line"><span class="comment">#################################### SMTP / Emailing ##########################</span></span><br><span class="line"><span class="section">[smtp]</span></span><br><span class="line"><span class="comment">;enabled = false</span></span><br><span class="line"><span class="comment">;host = localhost:25</span></span><br><span class="line"><span class="comment">;user =</span></span><br><span class="line"><span class="comment"># If the password contains # or ; you have to wrap it with triple quotes. Ex &quot;&quot;&quot;#password;&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment">;password =</span></span><br><span class="line"><span class="comment">;cert_file =</span></span><br><span class="line"><span class="comment">;key_file =</span></span><br><span class="line"><span class="comment">;skip_verify = false</span></span><br><span class="line"><span class="comment">;from_address = admin@grafana.localhost</span></span><br><span class="line"><span class="comment">;from_name = Grafana</span></span><br><span class="line"><span class="comment"># EHLO identity in SMTP dialog (defaults to instance_name)</span></span><br><span class="line"><span class="comment">;ehlo_identity = dashboard.example.com</span></span><br><span class="line"><span class="comment"># SMTP startTLS policy (defaults to &#x27;OpportunisticStartTLS&#x27;)</span></span><br><span class="line"><span class="comment">;startTLS_policy = NoStartTLS</span></span><br><span class="line"></span><br><span class="line"><span class="section">[emails]</span></span><br><span class="line"><span class="comment">;welcome_email_on_sign_up = false</span></span><br><span class="line"><span class="comment">;templates_pattern = emails/*.html, emails/*.txt</span></span><br><span class="line"><span class="comment">;content_types = text/html</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Logging ##########################</span></span><br><span class="line"><span class="section">[log]</span></span><br><span class="line"><span class="comment"># Either &quot;console&quot;, &quot;file&quot;, &quot;syslog&quot;. Default is console and  file</span></span><br><span class="line"><span class="comment"># Use space to separate multiple modes, e.g. &quot;console file&quot;</span></span><br><span class="line"><span class="comment">;mode = console file</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Either &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;critical&quot;, default is &quot;info&quot;</span></span><br><span class="line"><span class="comment">;level = info</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># optional settings to set different levels for specific loggers. Ex filters = sqlstore:debug</span></span><br><span class="line"><span class="comment">;filters =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># For &quot;console&quot; mode only</span></span><br><span class="line"><span class="section">[log.console]</span></span><br><span class="line"><span class="comment">;level =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># log line format, valid options are text, console and json</span></span><br><span class="line"><span class="comment">;format = console</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># For &quot;file&quot; mode only</span></span><br><span class="line"><span class="section">[log.file]</span></span><br><span class="line"><span class="comment">;level =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># log line format, valid options are text, console and json</span></span><br><span class="line"><span class="comment">;format = text</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This enables automated log rotate(switch of following options), default is true</span></span><br><span class="line"><span class="comment">;log_rotate = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Max line number of single file, default is 1000000</span></span><br><span class="line"><span class="comment">;max_lines = 1000000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Max size shift of single file, default is 28 means 1 &lt;&lt; 28, 256MB</span></span><br><span class="line"><span class="comment">;max_size_shift = 28</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Segment log daily, default is true</span></span><br><span class="line"><span class="comment">;daily_rotate = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Expired days of log file(delete after max days), default is 7</span></span><br><span class="line"><span class="comment">;max_days = 7</span></span><br><span class="line"></span><br><span class="line"><span class="section">[log.syslog]</span></span><br><span class="line"><span class="comment">;level =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># log line format, valid options are text, console and json</span></span><br><span class="line"><span class="comment">;format = text</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Syslog network type and address. This can be udp, tcp, or unix. If left blank, the default unix endpoints will be used.</span></span><br><span class="line"><span class="comment">;network =</span></span><br><span class="line"><span class="comment">;address =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Syslog facility. user, daemon and local0 through local7 are valid.</span></span><br><span class="line"><span class="comment">;facility =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Syslog tag. By default, the process&#x27; argv[0] is used.</span></span><br><span class="line"><span class="comment">;tag =</span></span><br><span class="line"></span><br><span class="line"><span class="section">[log.frontend]</span></span><br><span class="line"><span class="comment"># Should Sentry javascript agent be initialized</span></span><br><span class="line"><span class="comment">;enabled = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Defines which provider to use, default is Sentry</span></span><br><span class="line"><span class="comment">;provider = sentry</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sentry DSN if you want to send events to Sentry.</span></span><br><span class="line"><span class="comment">;sentry_dsn =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Custom HTTP endpoint to send events captured by the Sentry agent to. Default will log the events to stdout.</span></span><br><span class="line"><span class="comment">;custom_endpoint = /log</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Rate of events to be reported between 0 (none) and 1 (all), float</span></span><br><span class="line"><span class="comment">;sample_rate = 1.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Requests per second limit enforced an extended period, for Grafana backend log ingestion endpoint (/log).</span></span><br><span class="line"><span class="comment">;log_endpoint_requests_per_second_limit = 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Max requests accepted per short interval of time for Grafana backend log ingestion endpoint (/log).</span></span><br><span class="line"><span class="comment">;log_endpoint_burst_limit = 15</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Should error instrumentation be enabled, only affects Grafana Javascript Agent</span></span><br><span class="line"><span class="comment">;instrumentations_errors_enabled = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Should console instrumentation be enabled, only affects Grafana Javascript Agent</span></span><br><span class="line"><span class="comment">;instrumentations_console_enabled = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Should webvitals instrumentation be enabled, only affects Grafana Javascript Agent</span></span><br><span class="line"><span class="comment">;instrumentations_webvitals_enabled = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Api Key, only applies to Grafana Javascript Agent provider</span></span><br><span class="line"><span class="comment">;api_key = testApiKey</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Usage Quotas ########################</span></span><br><span class="line"><span class="section">[quota]</span></span><br><span class="line"><span class="comment">; enabled = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#### set quotas to -1 to make unlimited. ####</span></span><br><span class="line"><span class="comment"># limit number of users per Org.</span></span><br><span class="line"><span class="comment">; org_user = 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># limit number of dashboards per Org.</span></span><br><span class="line"><span class="comment">; org_dashboard = 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># limit number of data_sources per Org.</span></span><br><span class="line"><span class="comment">; org_data_source = 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># limit number of api_keys per Org.</span></span><br><span class="line"><span class="comment">; org_api_key = 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># limit number of alerts per Org.</span></span><br><span class="line"><span class="comment">;org_alert_rule = 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># limit number of orgs a user can create.</span></span><br><span class="line"><span class="comment">; user_org = 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Global limit of users.</span></span><br><span class="line"><span class="comment">; global_user = -1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># global limit of orgs.</span></span><br><span class="line"><span class="comment">; global_org = -1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># global limit of dashboards</span></span><br><span class="line"><span class="comment">; global_dashboard = -1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># global limit of api_keys</span></span><br><span class="line"><span class="comment">; global_api_key = -1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># global limit on number of logged in users.</span></span><br><span class="line"><span class="comment">; global_session = -1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># global limit of alerts</span></span><br><span class="line"><span class="comment">;global_alert_rule = -1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Unified Alerting ####################</span></span><br><span class="line"><span class="section">[unified_alerting]</span></span><br><span class="line"><span class="comment">#Enable the Unified Alerting sub-system and interface. When enabled we&#x27;ll migrate all of your alert rules and notification channels to the new system. New alert rules will be created and your notification channels will be converted into an Alertmanager configuration. Previous data is preserved to enable backwards compatibility but new data is removed.```</span></span><br><span class="line"><span class="comment">;enabled = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of organization IDs for which to disable unified alerting. Only supported if unified alerting is enabled.</span></span><br><span class="line"><span class="comment">;disabled_orgs =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify the frequency of polling for admin config changes.</span></span><br><span class="line"><span class="comment"># The interval string is a possibly signed sequence of decimal numbers, followed by a unit suffix (ms, s, m, h, d), e.g. 30s or 1m.</span></span><br><span class="line"><span class="comment">;admin_config_poll_interval = 60s</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify the frequency of polling for Alertmanager config changes.</span></span><br><span class="line"><span class="comment"># The interval string is a possibly signed sequence of decimal numbers, followed by a unit suffix (ms, s, m, h, d), e.g. 30s or 1m.</span></span><br><span class="line"><span class="comment">;alertmanager_config_poll_interval = 60s</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Listen address/hostname and port to receive unified alerting messages for other Grafana instances. The port is used for both TCP and UDP. It is assumed other Grafana instances are also running on the same port. The default value is `0.0.0.0:9094`.</span></span><br><span class="line"><span class="comment">;ha_listen_address = &quot;0.0.0.0:9094&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Listen address/hostname and port to receive unified alerting messages for other Grafana instances. The port is used for both TCP and UDP. It is assumed other Grafana instances are also running on the same port. The default value is `0.0.0.0:9094`.</span></span><br><span class="line"><span class="comment">;ha_advertise_address = &quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of initial instances (in a format of host:port) that will form the HA cluster. Configuring this setting will enable High Availability mode for alerting.</span></span><br><span class="line"><span class="comment">;ha_peers = &quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Time to wait for an instance to send a notification via the Alertmanager. In HA, each Grafana instance will</span></span><br><span class="line"><span class="comment"># be assigned a position (e.g. 0, 1). We then multiply this position with the timeout to indicate how long should</span></span><br><span class="line"><span class="comment"># each instance wait before sending the notification to take into account replication lag.</span></span><br><span class="line"><span class="comment"># The interval string is a possibly signed sequence of decimal numbers, followed by a unit suffix (ms, s, m, h, d), e.g. 30s or 1m.</span></span><br><span class="line"><span class="comment">;ha_peer_timeout = &quot;15s&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The interval between sending gossip messages. By lowering this value (more frequent) gossip messages are propagated</span></span><br><span class="line"><span class="comment"># across cluster more quickly at the expense of increased bandwidth usage.</span></span><br><span class="line"><span class="comment"># The interval string is a possibly signed sequence of decimal numbers, followed by a unit suffix (ms, s, m, h, d), e.g. 30s or 1m.</span></span><br><span class="line"><span class="comment">;ha_gossip_interval = &quot;200ms&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The interval between gossip full state syncs. Setting this interval lower (more frequent) will increase convergence speeds</span></span><br><span class="line"><span class="comment"># across larger clusters at the expense of increased bandwidth usage.</span></span><br><span class="line"><span class="comment"># The interval string is a possibly signed sequence of decimal numbers, followed by a unit suffix (ms, s, m, h, d), e.g. 30s or 1m.</span></span><br><span class="line"><span class="comment">;ha_push_pull_interval = &quot;60s&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable or disable alerting rule execution. The alerting UI remains visible. This option has a legacy version in the `[alerting]` section that takes precedence.</span></span><br><span class="line"><span class="comment">;execute_alerts = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Alert evaluation timeout when fetching data from the datasource. This option has a legacy version in the `[alerting]` section that takes precedence.</span></span><br><span class="line"><span class="comment"># The timeout string is a possibly signed sequence of decimal numbers, followed by a unit suffix (ms, s, m, h, d), e.g. 30s or 1m.</span></span><br><span class="line"><span class="comment">;evaluation_timeout = 30s</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Number of times we&#x27;ll attempt to evaluate an alert rule before giving up on that evaluation. This option has a legacy version in the `[alerting]` section that takes precedence.</span></span><br><span class="line"><span class="comment">;max_attempts = 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Minimum interval to enforce between rule evaluations. Rules will be adjusted if they are less than this value  or if they are not multiple of the scheduler interval (10s). Higher values can help with resource management as we&#x27;ll schedule fewer evaluations over time. This option has a legacy version in the `[alerting]` section that takes precedence.</span></span><br><span class="line"><span class="comment"># The interval string is a possibly signed sequence of decimal numbers, followed by a unit suffix (ms, s, m, h, d), e.g. 30s or 1m.</span></span><br><span class="line"><span class="comment">;min_interval = 10s</span></span><br><span class="line"></span><br><span class="line"><span class="section">[unified_alerting.reserved_labels]</span></span><br><span class="line"><span class="comment"># Comma-separated list of reserved labels added by the Grafana Alerting engine that should be disabled.</span></span><br><span class="line"><span class="comment"># For example: `disabled_labels=grafana_folder`</span></span><br><span class="line"><span class="comment">;disabled_labels =</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Alerting ############################</span></span><br><span class="line"><span class="section">[alerting]</span></span><br><span class="line"><span class="comment"># Disable legacy alerting engine &amp; UI features</span></span><br><span class="line"><span class="comment">;enabled = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Makes it possible to turn off alert execution but alerting UI is visible</span></span><br><span class="line"><span class="comment">;execute_alerts = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Default setting for new alert rules. Defaults to categorize error and timeouts as alerting. (alerting, keep_state)</span></span><br><span class="line"><span class="comment">;error_or_timeout = alerting</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Default setting for how Grafana handles nodata or null values in alerting. (alerting, no_data, keep_state, ok)</span></span><br><span class="line"><span class="comment">;nodata_or_nullvalues = no_data</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Alert notifications can include images, but rendering many images at the same time can overload the server</span></span><br><span class="line"><span class="comment"># This limit will protect the server from render overloading and make sure notifications are sent out quickly</span></span><br><span class="line"><span class="comment">;concurrent_render_limit = 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Default setting for alert calculation timeout. Default value is 30</span></span><br><span class="line"><span class="comment">;evaluation_timeout_seconds = 30</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Default setting for alert notification timeout. Default value is 30</span></span><br><span class="line"><span class="comment">;notification_timeout_seconds = 30</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Default setting for max attempts to sending alert notifications. Default value is 3</span></span><br><span class="line"><span class="comment">;max_attempts = 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Makes it possible to enforce a minimal interval between evaluations, to reduce load on the backend</span></span><br><span class="line"><span class="comment">;min_interval_seconds = 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Configures for how long alert annotations are stored. Default is 0, which keeps them forever.</span></span><br><span class="line"><span class="comment"># This setting should be expressed as a duration. Examples: 6h (hours), 10d (days), 2w (weeks), 1M (month).</span></span><br><span class="line"><span class="comment">;max_annotation_age =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Configures max number of alert annotations that Grafana stores. Default value is 0, which keeps all alert annotations.</span></span><br><span class="line"><span class="comment">;max_annotations_to_keep =</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Annotations #########################</span></span><br><span class="line"><span class="section">[annotations]</span></span><br><span class="line"><span class="comment"># Configures the batch size for the annotation clean-up job. This setting is used for dashboard, API, and alert annotations.</span></span><br><span class="line"><span class="comment">;cleanupjob_batchsize = 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enforces the maximum allowed length of the tags for any newly introduced annotations. It can be between 500 and 4096 inclusive (which is the respective&#x27;s column length). Default value is 500.</span></span><br><span class="line"><span class="comment"># Setting it to a higher value would impact performance therefore is not recommended.</span></span><br><span class="line"><span class="comment">;tags_length = 500</span></span><br><span class="line"></span><br><span class="line"><span class="section">[annotations.dashboard]</span></span><br><span class="line"><span class="comment"># Dashboard annotations means that annotations are associated with the dashboard they are created on.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Configures how long dashboard annotations are stored. Default is 0, which keeps them forever.</span></span><br><span class="line"><span class="comment"># This setting should be expressed as a duration. Examples: 6h (hours), 10d (days), 2w (weeks), 1M (month).</span></span><br><span class="line"><span class="comment">;max_age =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Configures max number of dashboard annotations that Grafana stores. Default value is 0, which keeps all dashboard annotations.</span></span><br><span class="line"><span class="comment">;max_annotations_to_keep =</span></span><br><span class="line"></span><br><span class="line"><span class="section">[annotations.api]</span></span><br><span class="line"><span class="comment"># API annotations means that the annotations have been created using the API without any</span></span><br><span class="line"><span class="comment"># association with a dashboard.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Configures how long Grafana stores API annotations. Default is 0, which keeps them forever.</span></span><br><span class="line"><span class="comment"># This setting should be expressed as a duration. Examples: 6h (hours), 10d (days), 2w (weeks), 1M (month).</span></span><br><span class="line"><span class="comment">;max_age =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Configures max number of API annotations that Grafana keeps. Default value is 0, which keeps all API annotations.</span></span><br><span class="line"><span class="comment">;max_annotations_to_keep =</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Explore #############################</span></span><br><span class="line"><span class="section">[explore]</span></span><br><span class="line"><span class="comment"># Enable the Explore section</span></span><br><span class="line"><span class="comment">;enabled = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Help #############################</span></span><br><span class="line"><span class="section">[help]</span></span><br><span class="line"><span class="comment"># Enable the Help section</span></span><br><span class="line"><span class="comment">;enabled = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Profile #############################</span></span><br><span class="line"><span class="section">[profile]</span></span><br><span class="line"><span class="comment"># Enable the Profile section</span></span><br><span class="line"><span class="comment">;enabled = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Query History #############################</span></span><br><span class="line"><span class="section">[query_history]</span></span><br><span class="line"><span class="comment"># Enable the Query history</span></span><br><span class="line"><span class="comment">;enabled = true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Internal Grafana Metrics ##########################</span></span><br><span class="line"><span class="comment"># Metrics available at HTTP URL /metrics and /metrics/plugins/:pluginId</span></span><br><span class="line"><span class="section">[metrics]</span></span><br><span class="line"><span class="comment"># Disable / Enable internal metrics</span></span><br><span class="line"><span class="comment">;enabled           = true</span></span><br><span class="line"><span class="comment"># Graphite Publish interval</span></span><br><span class="line"><span class="comment">;interval_seconds  = 10</span></span><br><span class="line"><span class="comment"># Disable total stats (stat_totals_*) metrics to be generated</span></span><br><span class="line"><span class="comment">;disable_total_stats = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#If both are set, basic auth will be required for the metrics endpoints.</span></span><br><span class="line"><span class="comment">; basic_auth_username =</span></span><br><span class="line"><span class="comment">; basic_auth_password =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Metrics environment info adds dimensions to the `grafana_environment_info` metric, which</span></span><br><span class="line"><span class="comment"># can expose more information about the Grafana instance.</span></span><br><span class="line"><span class="section">[metrics.environment_info]</span></span><br><span class="line"><span class="comment">#exampleLabel1 = exampleValue1</span></span><br><span class="line"><span class="comment">#exampleLabel2 = exampleValue2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Send internal metrics to Graphite</span></span><br><span class="line"><span class="section">[metrics.graphite]</span></span><br><span class="line"><span class="comment"># Enable by setting the address setting (ex localhost:2003)</span></span><br><span class="line"><span class="comment">;address =</span></span><br><span class="line"><span class="comment">;prefix = prod.grafana.%(instance_name)s.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Grafana.com integration  ##########################</span></span><br><span class="line"><span class="comment"># Url used to import dashboards directly from Grafana.com</span></span><br><span class="line"><span class="section">[grafana_com]</span></span><br><span class="line"><span class="comment">;url = https://grafana.com</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Distributed tracing ############</span></span><br><span class="line"><span class="comment"># Opentracing is deprecated use opentelemetry instead</span></span><br><span class="line"><span class="section">[tracing.jaeger]</span></span><br><span class="line"><span class="comment"># Enable by setting the address sending traces to jaeger (ex localhost:6831)</span></span><br><span class="line"><span class="comment">;address = localhost:6831</span></span><br><span class="line"><span class="comment"># Tag that will always be included in when creating new spans. ex (tag1:value1,tag2:value2)</span></span><br><span class="line"><span class="comment">;always_included_tag = tag1:value1</span></span><br><span class="line"><span class="comment"># Type specifies the type of the sampler: const, probabilistic, rateLimiting, or remote</span></span><br><span class="line"><span class="comment">;sampler_type = const</span></span><br><span class="line"><span class="comment"># jaeger samplerconfig param</span></span><br><span class="line"><span class="comment"># for &quot;const&quot; sampler, 0 or 1 for always false/true respectively</span></span><br><span class="line"><span class="comment"># for &quot;probabilistic&quot; sampler, a probability between 0 and 1</span></span><br><span class="line"><span class="comment"># for &quot;rateLimiting&quot; sampler, the number of spans per second</span></span><br><span class="line"><span class="comment"># for &quot;remote&quot; sampler, param is the same as for &quot;probabilistic&quot;</span></span><br><span class="line"><span class="comment"># and indicates the initial sampling rate before the actual one</span></span><br><span class="line"><span class="comment"># is received from the mothership</span></span><br><span class="line"><span class="comment">;sampler_param = 1</span></span><br><span class="line"><span class="comment"># sampling_server_url is the URL of a sampling manager providing a sampling strategy.</span></span><br><span class="line"><span class="comment">;sampling_server_url =</span></span><br><span class="line"><span class="comment"># Whether or not to use Zipkin propagation (x-b3- HTTP headers).</span></span><br><span class="line"><span class="comment">;zipkin_propagation = false</span></span><br><span class="line"><span class="comment"># Setting this to true disables shared RPC spans.</span></span><br><span class="line"><span class="comment"># Not disabling is the most common setting when using Zipkin elsewhere in your infrastructure.</span></span><br><span class="line"><span class="comment">;disable_shared_zipkin_spans = false</span></span><br><span class="line"></span><br><span class="line"><span class="section">[tracing.opentelemetry]</span></span><br><span class="line"><span class="comment"># attributes that will always be included in when creating new spans. ex (key1:value1,key2:value2)</span></span><br><span class="line"><span class="comment">;custom_attributes = key1:value1,key2:value2</span></span><br><span class="line"></span><br><span class="line"><span class="section">[tracing.opentelemetry.jaeger]</span></span><br><span class="line"><span class="comment"># jaeger destination (ex http://localhost:14268/api/traces)</span></span><br><span class="line"><span class="comment">; address = http://localhost:14268/api/traces</span></span><br><span class="line"><span class="comment"># Propagation specifies the text map propagation format: w3c, jaeger</span></span><br><span class="line"><span class="comment">; propagation = jaeger</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This is a configuration for OTLP exporter with GRPC protocol</span></span><br><span class="line"><span class="section">[tracing.opentelemetry.otlp]</span></span><br><span class="line"><span class="comment"># otlp destination (ex localhost:4317)</span></span><br><span class="line"><span class="comment">; address = localhost:4317</span></span><br><span class="line"><span class="comment"># Propagation specifies the text map propagation format: w3c, jaeger</span></span><br><span class="line"><span class="comment">; propagation = w3c</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### External image storage ##########################</span></span><br><span class="line"><span class="section">[external_image_storage]</span></span><br><span class="line"><span class="comment"># Used for uploading images to public servers so they can be included in slack/email messages.</span></span><br><span class="line"><span class="comment"># you can choose between (s3, webdav, gcs, azure_blob, local)</span></span><br><span class="line"><span class="comment">;provider =</span></span><br><span class="line"></span><br><span class="line"><span class="section">[external_image_storage.s3]</span></span><br><span class="line"><span class="comment">;endpoint =</span></span><br><span class="line"><span class="comment">;path_style_access =</span></span><br><span class="line"><span class="comment">;bucket =</span></span><br><span class="line"><span class="comment">;region =</span></span><br><span class="line"><span class="comment">;path =</span></span><br><span class="line"><span class="comment">;access_key =</span></span><br><span class="line"><span class="comment">;secret_key =</span></span><br><span class="line"></span><br><span class="line"><span class="section">[external_image_storage.webdav]</span></span><br><span class="line"><span class="comment">;url =</span></span><br><span class="line"><span class="comment">;public_url =</span></span><br><span class="line"><span class="comment">;username =</span></span><br><span class="line"><span class="comment">;password =</span></span><br><span class="line"></span><br><span class="line"><span class="section">[external_image_storage.gcs]</span></span><br><span class="line"><span class="comment">;key_file =</span></span><br><span class="line"><span class="comment">;bucket =</span></span><br><span class="line"><span class="comment">;path =</span></span><br><span class="line"></span><br><span class="line"><span class="section">[external_image_storage.azure_blob]</span></span><br><span class="line"><span class="comment">;account_name =</span></span><br><span class="line"><span class="comment">;account_key =</span></span><br><span class="line"><span class="comment">;container_name =</span></span><br><span class="line"></span><br><span class="line"><span class="section">[external_image_storage.local]</span></span><br><span class="line"><span class="comment"># does not require any configuration</span></span><br><span class="line"></span><br><span class="line"><span class="section">[rendering]</span></span><br><span class="line"><span class="comment"># Options to configure a remote HTTP image rendering service, e.g. using https://github.com/grafana/grafana-image-renderer.</span></span><br><span class="line"><span class="comment"># URL to a remote HTTP image renderer service, e.g. http://localhost:8081/render, will enable Grafana to render panels and dashboards to PNG-images using HTTP requests to an external service.</span></span><br><span class="line"><span class="comment">;server_url =</span></span><br><span class="line"><span class="comment"># If the remote HTTP image renderer service runs on a different server than the Grafana server you may have to configure this to a URL where Grafana is reachable, e.g. http://grafana.domain/.</span></span><br><span class="line"><span class="comment">;callback_url =</span></span><br><span class="line"><span class="comment"># An auth token that will be sent to and verified by the renderer. The renderer will deny any request without an auth token matching the one configured on the renderer side.</span></span><br><span class="line"><span class="comment">;renderer_token = -</span></span><br><span class="line"><span class="comment"># Concurrent render request limit affects when the /render HTTP endpoint is used. Rendering many images at the same time can overload the server,</span></span><br><span class="line"><span class="comment"># which this setting can help protect against by only allowing a certain amount of concurrent requests.</span></span><br><span class="line"><span class="comment">;concurrent_render_request_limit = 30</span></span><br><span class="line"></span><br><span class="line"><span class="section">[panels]</span></span><br><span class="line"><span class="comment"># If set to true Grafana will allow script tags in text panels. Not recommended as it enable XSS vulnerabilities.</span></span><br><span class="line"><span class="comment">;disable_sanitize_html = false</span></span><br><span class="line"></span><br><span class="line"><span class="section">[plugins]</span></span><br><span class="line"><span class="comment">;enable_alpha = false</span></span><br><span class="line"><span class="comment">;app_tls_skip_verify_insecure = false</span></span><br><span class="line"><span class="comment"># Enter a comma-separated list of plugin identifiers to identify plugins to load even if they are unsigned. Plugins with modified signatures are never loaded.</span></span><br><span class="line"><span class="comment">;allow_loading_unsigned_plugins =</span></span><br><span class="line"><span class="comment"># Enable or disable installing / uninstalling / updating plugins directly from within Grafana.</span></span><br><span class="line"><span class="comment">;plugin_admin_enabled = false</span></span><br><span class="line"><span class="comment">;plugin_admin_external_manage_enabled = false</span></span><br><span class="line"><span class="comment">;plugin_catalog_url = https://grafana.com/grafana/plugins/</span></span><br><span class="line"><span class="comment"># Enter a comma-separated list of plugin identifiers to hide in the plugin catalog.</span></span><br><span class="line"><span class="comment">;plugin_catalog_hidden_plugins =</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Grafana Live ##########################################</span></span><br><span class="line"><span class="section">[live]</span></span><br><span class="line"><span class="comment"># max_connections to Grafana Live WebSocket endpoint per Grafana server instance. See Grafana Live docs</span></span><br><span class="line"><span class="comment"># if you are planning to make it higher than default 100 since this can require some OS and infrastructure</span></span><br><span class="line"><span class="comment"># tuning. 0 disables Live, -1 means unlimited connections.</span></span><br><span class="line"><span class="comment">;max_connections = 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># allowed_origins is a comma-separated list of origins that can establish connection with Grafana Live.</span></span><br><span class="line"><span class="comment"># If not set then origin will be matched over root_url. Supports wildcard symbol &quot;*&quot;.</span></span><br><span class="line"><span class="comment">;allowed_origins =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># engine defines an HA (high availability) engine to use for Grafana Live. By default no engine used - in</span></span><br><span class="line"><span class="comment"># this case Live features work only on a single Grafana server. Available options: &quot;redis&quot;.</span></span><br><span class="line"><span class="comment"># Setting ha_engine is an EXPERIMENTAL feature.</span></span><br><span class="line"><span class="comment">;ha_engine =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ha_engine_address sets a connection address for Live HA engine. Depending on engine type address format can differ.</span></span><br><span class="line"><span class="comment"># For now we only support Redis connection address in &quot;host:port&quot; format.</span></span><br><span class="line"><span class="comment"># This option is EXPERIMENTAL.</span></span><br><span class="line"><span class="comment">;ha_engine_address = &quot;127.0.0.1:6379&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################### Grafana Image Renderer Plugin ##########################</span></span><br><span class="line"><span class="section">[plugin.grafana-image-renderer]</span></span><br><span class="line"><span class="comment"># Instruct headless browser instance to use a default timezone when not provided by Grafana, e.g. when rendering panel image of alert.</span></span><br><span class="line"><span class="comment"># See ICU’s metaZones.txt (https://cs.chromium.org/chromium/src/third_party/icu/source/data/misc/metaZones.txt) for a list of supported</span></span><br><span class="line"><span class="comment"># timezone IDs. Fallbacks to TZ environment variable if not set.</span></span><br><span class="line"><span class="comment">;rendering_timezone =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Instruct headless browser instance to use a default language when not provided by Grafana, e.g. when rendering panel image of alert.</span></span><br><span class="line"><span class="comment"># Please refer to the HTTP header Accept-Language to understand how to format this value, e.g. &#x27;fr-CH, fr;q=0.9, en;q=0.8, de;q=0.7, *;q=0.5&#x27;.</span></span><br><span class="line"><span class="comment">;rendering_language =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Instruct headless browser instance to use a default device scale factor when not provided by Grafana, e.g. when rendering panel image of alert.</span></span><br><span class="line"><span class="comment"># Default is 1. Using a higher value will produce more detailed images (higher DPI), but will require more disk space to store an image.</span></span><br><span class="line"><span class="comment">;rendering_viewport_device_scale_factor =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Instruct headless browser instance whether to ignore HTTPS errors during navigation. Per default HTTPS errors are not ignored. Due to</span></span><br><span class="line"><span class="comment"># the security risk it&#x27;s not recommended to ignore HTTPS errors.</span></span><br><span class="line"><span class="comment">;rendering_ignore_https_errors =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Instruct headless browser instance whether to capture and log verbose information when rendering an image. Default is false and will</span></span><br><span class="line"><span class="comment"># only capture and log error messages. When enabled, debug messages are captured and logged as well.</span></span><br><span class="line"><span class="comment"># For the verbose information to be included in the Grafana server log you have to adjust the rendering log level to debug, configure</span></span><br><span class="line"><span class="comment"># [log].filter = rendering:debug.</span></span><br><span class="line"><span class="comment">;rendering_verbose_logging =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Instruct headless browser instance whether to output its debug and error messages into running process of remote rendering service.</span></span><br><span class="line"><span class="comment"># Default is false. This can be useful to enable (true) when troubleshooting.</span></span><br><span class="line"><span class="comment">;rendering_dumpio =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Additional arguments to pass to the headless browser instance. Default is --no-sandbox. The list of Chromium flags can be found</span></span><br><span class="line"><span class="comment"># here (https://peter.sh/experiments/chromium-command-line-switches/). Multiple arguments is separated with comma-character.</span></span><br><span class="line"><span class="comment">;rendering_args =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can configure the plugin to use a different browser binary instead of the pre-packaged version of Chromium.</span></span><br><span class="line"><span class="comment"># Please note that this is not recommended, since you may encounter problems if the installed version of Chrome/Chromium is not</span></span><br><span class="line"><span class="comment"># compatible with the plugin.</span></span><br><span class="line"><span class="comment">;rendering_chrome_bin =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Instruct how headless browser instances are created. Default is &#x27;default&#x27; and will create a new browser instance on each request.</span></span><br><span class="line"><span class="comment"># Mode &#x27;clustered&#x27; will make sure that only a maximum of browsers/incognito pages can execute concurrently.</span></span><br><span class="line"><span class="comment"># Mode &#x27;reusable&#x27; will have one browser instance and will create a new incognito page on each request.</span></span><br><span class="line"><span class="comment">;rendering_mode =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When rendering_mode = clustered, you can instruct how many browsers or incognito pages can execute concurrently. Default is &#x27;browser&#x27;</span></span><br><span class="line"><span class="comment"># and will cluster using browser instances.</span></span><br><span class="line"><span class="comment"># Mode &#x27;context&#x27; will cluster using incognito pages.</span></span><br><span class="line"><span class="comment">;rendering_clustering_mode =</span></span><br><span class="line"><span class="comment"># When rendering_mode = clustered, you can define the maximum number of browser instances/incognito pages that can execute concurrently. Default is &#x27;5&#x27;.</span></span><br><span class="line"><span class="comment">;rendering_clustering_max_concurrency =</span></span><br><span class="line"><span class="comment"># When rendering_mode = clustered, you can specify the duration a rendering request can take before it will time out. Default is `30` seconds.</span></span><br><span class="line"><span class="comment">;rendering_clustering_timeout =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Limit the maximum viewport width, height and device scale factor that can be requested.</span></span><br><span class="line"><span class="comment">;rendering_viewport_max_width =</span></span><br><span class="line"><span class="comment">;rendering_viewport_max_height =</span></span><br><span class="line"><span class="comment">;rendering_viewport_max_device_scale_factor =</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Change the listening host and port of the gRPC server. Default host is 127.0.0.1 and default port is 0 and will automatically assign</span></span><br><span class="line"><span class="comment"># a port not in use.</span></span><br><span class="line"><span class="comment">;grpc_host =</span></span><br><span class="line"><span class="comment">;grpc_port =</span></span><br><span class="line"></span><br><span class="line"><span class="section">[enterprise]</span></span><br><span class="line"><span class="comment"># Path to a valid Grafana Enterprise license.jwt file</span></span><br><span class="line"><span class="comment">;license_path =</span></span><br><span class="line"></span><br><span class="line"><span class="section">[feature_toggles]</span></span><br><span class="line"><span class="comment"># there are currently two ways to enable feature toggles in the `grafana.ini`.</span></span><br><span class="line"><span class="comment"># you can either pass an array of feature you want to enable to the `enable` field or</span></span><br><span class="line"><span class="comment"># configure each toggle by setting the name of the toggle to true/false. Toggles set to true/false</span></span><br><span class="line"><span class="comment"># will take presidence over toggles in the `enable` list.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;enable = feature1,feature2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;feature1 = true</span></span><br><span class="line"><span class="comment">;feature2 = false</span></span><br><span class="line"></span><br><span class="line"><span class="section">[date_formats]</span></span><br><span class="line"><span class="comment"># For information on what formatting patterns that are supported https://momentjs.com/docs/#/displaying/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Default system date format used in time range picker and other places where full time is displayed</span></span><br><span class="line"><span class="comment">;full_date = YYYY-MM-DD HH:mm:ss</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Used by graph and other places where we only show small intervals</span></span><br><span class="line"><span class="comment">;interval_second = HH:mm:ss</span></span><br><span class="line"><span class="comment">;interval_minute = HH:mm</span></span><br><span class="line"><span class="comment">;interval_hour = MM/DD HH:mm</span></span><br><span class="line"><span class="comment">;interval_day = MM/DD</span></span><br><span class="line"><span class="comment">;interval_month = YYYY-MM</span></span><br><span class="line"><span class="comment">;interval_year = YYYY</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Experimental feature</span></span><br><span class="line"><span class="comment">;use_browser_locale = false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Default timezone for user preferences. Options are &#x27;browser&#x27; for the browser local timezone or a timezone name from IANA Time Zone database, e.g. &#x27;UTC&#x27; or &#x27;Europe/Amsterdam&#x27; etc.</span></span><br><span class="line"><span class="comment">;default_timezone = browser</span></span><br><span class="line"></span><br><span class="line"><span class="section">[expressions]</span></span><br><span class="line"><span class="comment"># Enable or disable the expressions functionality.</span></span><br><span class="line"><span class="comment">;enabled = true</span></span><br><span class="line"></span><br><span class="line"><span class="section">[geomap]</span></span><br><span class="line"><span class="comment"># Set the JSON configuration for the default basemap</span></span><br><span class="line"><span class="comment">;default_baselayer_config = `&#123;</span></span><br><span class="line"><span class="comment">;  &quot;type&quot;: &quot;xyz&quot;,</span></span><br><span class="line"><span class="comment">;  &quot;config&quot;: &#123;</span></span><br><span class="line"><span class="comment">;    &quot;attribution&quot;: &quot;Open street map&quot;,</span></span><br><span class="line"><span class="comment">;    &quot;url&quot;: &quot;https://tile.openstreetmap.org/&#123;z&#125;/&#123;x&#125;/&#123;y&#125;.png&quot;</span></span><br><span class="line"><span class="comment">;  &#125;</span></span><br><span class="line"><span class="comment">;&#125;`</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable or disable loading other base map layers</span></span><br><span class="line"><span class="comment">;enable_custom_baselayers = true</span></span><br></pre></td></tr></table></figure>

</details>

<h3 id="promtail配置文件"><a href="#promtail配置文件" class="headerlink" title="promtail配置文件"></a>promtail配置文件</h3><p>路径：</p>
<p>参考：<a target="_blank" rel="noopener" href="https://grafana.com/docs/loki/latest/clients/promtail/configuration/">https://grafana.com/docs/loki/latest/clients/promtail/configuration/</a></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">http_listen_port:</span> <span class="number">9080</span></span><br><span class="line">  <span class="attr">grpc_listen_port:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">grpc_server_max_recv_msg_size:</span> <span class="number">157286400</span> <span class="comment"># 150M</span></span><br><span class="line">  <span class="attr">grpc_server_max_send_msg_size:</span> <span class="number">157286400</span> <span class="comment"># 150M</span></span><br><span class="line"></span><br><span class="line"><span class="attr">positions:</span></span><br><span class="line">  <span class="attr">filename:</span> <span class="string">/tmp/positions.yaml</span></span><br><span class="line"></span><br><span class="line"><span class="attr">clients:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">http://loki:3100/loki/api/v1/push</span></span><br><span class="line"></span><br><span class="line"><span class="attr">scrape_configs:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">job_name:</span> <span class="string">system</span></span><br><span class="line">  <span class="attr">static_configs:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">targets:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">localhost</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="attr">job:</span> <span class="string">varlogs</span></span><br><span class="line">      <span class="attr">__path__:</span> <span class="string">/var/log/*log</span></span><br></pre></td></tr></table></figure>

<h2 id="创建用户和用户组"><a href="#创建用户和用户组" class="headerlink" title="创建用户和用户组"></a>创建用户和用户组</h2><p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://grafana.com/docs/grafana/latest/setup-grafana/installation/docker/">Run Grafana Docker image</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/sfccl/p/12936282.html">docker环境下的Grafana安装</a></p>
<p>1，宿主机新增用户 <code>grafana</code>，并修改UID和GID都为472（因为容器内的运行用户也是grafana，且UID和GID都是472）</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">useradd grafana</span><br><span class="line">vi /etc/passwd <span class="comment"># 编辑用户Id</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参考： -------</span></span><br><span class="line">grafana:x:472:472::/home/grafana:/bin/sh</span><br></pre></td></tr></table></figure>

<p>2，编辑用户组</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/group</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参考： -------</span></span><br><span class="line">grafana:x:472:</span><br></pre></td></tr></table></figure>

<p>3，修改目录所有者为<code>grafana</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chown</span> -R grafana:grafana /opt/grafana/conf &amp;&amp; \</span><br><span class="line"><span class="built_in">chmod</span> -R a+r /opt/grafana/conf &amp;&amp; \</span><br><span class="line"><span class="built_in">chmod</span> -R a+r /opt/grafana/data &amp;&amp; \</span><br><span class="line"><span class="built_in">chown</span> -R grafana:grafana /opt/grafana/data</span><br></pre></td></tr></table></figure>

<p>Loki数据目录权限：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 777 /opt/grafana/loki/data</span><br></pre></td></tr></table></figure>

<h2 id="创建docker网络"><a href="#创建docker网络" class="headerlink" title="创建docker网络"></a>创建docker网络</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network create --driver bridge --subnet 10.10.13.0/24 --gateway 10.10.13.1 docker_compose_net</span><br></pre></td></tr></table></figure>

<h2 id="编排docker-compose"><a href="#编排docker-compose" class="headerlink" title="编排docker-compose"></a>编排docker-compose</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">default:</span></span><br><span class="line">    <span class="attr">external:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">docker_compose_net</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">loki:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">grafana/loki:2.6.0</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">loki</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3100:3100&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/opt/grafana/loki/:/etc/loki/</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/opt/grafana/loki/data:/loki/</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/opt/grafana/loki/config/:/etc/loki/config</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">-config.file=/etc/loki/config/local-config.yaml</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span> <span class="comment"># 时区配置亚洲上海</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">promtail:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">grafana/promtail:2.6.0</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">promtail</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/opt/grafana/promtail/log:/var/log</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/opt/grafana/promtail/:/etc/promtail/</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">-config.file=/etc/promtail/config.yml</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span> <span class="comment"># 时区配置亚洲上海</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">grafana:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">grafana/grafana:latest</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">grafana</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/opt/grafana/conf/:/etc/grafana/</span> <span class="comment"># 可以使用默认配置文件，也可以指定配置文件</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/opt/grafana/data/:/var/lib/grafana/</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/opt/grafana/log/:/var/log/grafana/</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3000:3000&quot;</span></span><br><span class="line">    <span class="attr">user:</span> <span class="string">&#x27;472&#x27;</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span> <span class="comment"># 时区配置亚洲上海</span></span><br></pre></td></tr></table></figure>

<h2 id="启动-amp-移除"><a href="#启动-amp-移除" class="headerlink" title="启动&amp;移除"></a>启动&amp;移除</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动</span></span><br><span class="line">docker-compose up -d</span><br><span class="line"></span><br><span class="line"><span class="comment"># 移除</span></span><br><span class="line">docker-compose down -v</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/Docker/" rel="tag"><i class="fa fa-tag"></i> Docker</a>
              <a href="/tags/Ubuntu/" rel="tag"><i class="fa fa-tag"></i> Ubuntu</a>
              <a href="/tags/Docker-Compose/" rel="tag"><i class="fa fa-tag"></i> Docker Compose</a>
              <a href="/tags/Grafana/" rel="tag"><i class="fa fa-tag"></i> Grafana</a>
              <a href="/tags/Loki/" rel="tag"><i class="fa fa-tag"></i> Loki</a>
              <a href="/tags/Promtail/" rel="tag"><i class="fa fa-tag"></i> Promtail</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/10/13/Docker-Compose%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E7%BD%91%E6%AE%B5/" rel="prev" title="Docker-Compose使用自定义的网段">
      <i class="fa fa-chevron-left"></i> Docker-Compose使用自定义的网段
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/10/26/Linux%20chown%E5%91%BD%E4%BB%A4/" rel="next" title="Linux chown命令">
      Linux chown命令 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%AF%B9%E5%BA%94%E7%9B%AE%E5%BD%95"><span class="nav-number">1.</span> <span class="nav-text">创建对应目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">2.</span> <span class="nav-text">创建配置文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#loki%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">2.1.</span> <span class="nav-text">loki配置文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#grafana%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">2.2.</span> <span class="nav-text">grafana配置文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#promtail%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">2.3.</span> <span class="nav-text">promtail配置文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E5%92%8C%E7%94%A8%E6%88%B7%E7%BB%84"><span class="nav-number">3.</span> <span class="nav-text">创建用户和用户组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAdocker%E7%BD%91%E7%BB%9C"><span class="nav-number">4.</span> <span class="nav-text">创建docker网络</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E6%8E%92docker-compose"><span class="nav-number">5.</span> <span class="nav-text">编排docker-compose</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8-amp-%E7%A7%BB%E9%99%A4"><span class="nav-number">6.</span> <span class="nav-text">启动&amp;移除</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="syxdevcode"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">syxdevcode</p>
  <div class="site-description" itemprop="description">syxdevcode的个人博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">587</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">144</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">218</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/syxdevcode" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;syxdevcode" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">syxdevcode</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">1.9m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">29:08</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
