<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"syxdevcode.github.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="syxdevcode的个人博客">
<meta property="og:type" content="website">
<meta property="og:title" content="syxdevcode博客">
<meta property="og:url" content="https://syxdevcode.github.com/page/29/index.html">
<meta property="og:site_name" content="syxdevcode博客">
<meta property="og:description" content="syxdevcode的个人博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="syxdevcode">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://syxdevcode.github.com/page/29/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>syxdevcode博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">syxdevcode博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/syxdevcode" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/05/08/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%887%EF%BC%89-%20%E5%90%8E%E5%8F%B0%E5%B7%A5%E4%BD%9C%E4%BB%BB%E5%8A%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/08/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%887%EF%BC%89-%20%E5%90%8E%E5%8F%B0%E5%B7%A5%E4%BD%9C%E4%BB%BB%E5%8A%A1/" class="post-title-link" itemprop="url">ABP框架学习记录（7）- 后台工作任务</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-05-08 09:23:29" itemprop="dateCreated datePublished" datetime="2019-05-08T09:23:29+00:00">2019-05-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ABP/" itemprop="url" rel="index"><span itemprop="name">ABP</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ABP框架学习记录（7）-后台工作任务"><a href="#ABP框架学习记录（7）-后台工作任务" class="headerlink" title="ABP框架学习记录（7）- 后台工作任务"></a>ABP框架学习记录（7）- 后台工作任务</h1><p>文主要说明ABP中后台工作者模块（BackgroundWorker）的实现方式，和后台工作模块（BackgroundJob）。<br>ABP通过 <code>BackgroundWorkerManager</code> 来管理 <code>BackgroundJobManager</code> ，然后通过 <code>BackgroundJobManager</code> 来管理 <code>BackgroundJob</code>。<code>BackgroundJob</code> 就代表一个真正的后台任务。</p>
<p><code>AbpKernelModule</code> 的 <code>PostInitialize</code> 方法完成对 <code>BackgroundWorkerManager</code>，<code>BackgroundJobManager</code>的初始化。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190508151157.png" alt="QQ截图20190508151157.png"></p>
<h2 id="BackgroundWorkerManager-工作者"><a href="#BackgroundWorkerManager-工作者" class="headerlink" title="BackgroundWorkerManager 工作者"></a>BackgroundWorkerManager 工作者</h2><p>目录结构：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190508151546.png" alt="QQ截图20190508151546.png"></p>
<p><code>IRunnable/RunnableBase</code>：定义了启动/终止一个任务的方法的接口和基本实现抽象类。共三个方法：start, stop, waittostop。 </p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190508151806.png" alt="QQ截图20190508151806.png"></p>
<p><code>BackgroundWorkerBase</code>：实现 <code>IBackgroundWorker</code> 的一个抽象类，同时添加了UOW,Setting 和本地化的一些辅助方法。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190508152210.png" alt="QQ截图20190508152210.png"></p>
<p><code>PeriodicBackgroundWorkerBase</code>：继承 <code>BackgroundWorkerBase</code>， 通过封装 <code>AbpTimer</code> 实现定时启动执行任务的功能。这个类型定义个一个抽象方法 <code>DoWork</code>。<code>AbpTimer</code> 最终会定时执行这个方法。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190508161027.png" alt="QQ截图20190508161027.png"></p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190508162829.png" alt="QQ截图20190508162829.png"></p>
<p><font color=#ff0000 size=4 face="黑体">AbpTimer是整个ABP框架实现后台工作的核心类，其实现原理就是通过一个CLR中的timer定时启动执行任务。</font></p>
<p>使用Timer需要注意的问题：</p>
<p>第一，用timer有一个弊端，就是当timer间隔时间内，任务如果没执行完，timer就会新建一个线程，从头开始执行这个任务，而上一个线程仍然继续执行，这样就会导致系统中产生的线程过多，一会儿系统的资源就耗尽了。ABP的解决思路是在执行真正的业务方法之前，通过将timer的duetime设为无限大，从而timer就失效了。业务方法执行完以后在恢复timer的设置。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190508173455.png" alt="QQ截图20190508173455.png"></p>
<p><code>Timer</code> 官方文档解释为：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190508173557.png" alt="QQ截图20190508173557.png"></p>
<p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/api/system.threading.timer.change?view=netframework-4.8">System.Threading.Timer</a></p>
<p>第二，如何知道一个Timer真正结束了呢？也就是说如何知道一个Timer要执行的任务已经完成（定义为A效果），同时timer已失效(定义为B效果)？ABP通过stop方法实现B，通过WaitToStop实现A效果。WaitToStop会一直阻塞调用他的线程直到_performingTasks变成false,也就是说Timer要执行的任务已经完成（任务完成时会将_performingTasks设为False，并且释放锁）。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190508174549.png" alt="QQ截图20190508174549.png"></p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> _taskTimer的回调方法</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;state&quot;&gt;</span>Not used argument<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">TimerCallBack</span>(<span class="params"><span class="built_in">object</span> state</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">lock</span> (_taskTimer)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!_running || _performingTasks)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        _taskTimer.Change(Timeout.Infinite, Timeout.Infinite);</span><br><span class="line">        _performingTasks = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (Elapsed != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Elapsed(<span class="keyword">this</span>, <span class="keyword">new</span> EventArgs());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span></span><br><span class="line">    &#123;&#125;</span><br><span class="line">    <span class="keyword">finally</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">lock</span> (_taskTimer)</span><br><span class="line">        &#123;</span><br><span class="line">            _performingTasks = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span> (_running)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 指示Timer继续执行</span></span><br><span class="line">                _taskTimer.Change(Period, Timeout.Infinite);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 释放锁</span></span><br><span class="line">            Monitor.Pulse(_taskTimer);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>IBackgroundWorkerManager/BackgroundWorkerManager</code>：用于管理后台工作任务：<code>IBackgroundWorker</code> 实例（添加 <code>IBackgroundWorker</code> 实例到管理器，启动，终止和注销后台任务）。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190508160425.png" alt="QQ截图20190508160425.png"></p>
<h2 id="BackgroundWorkerManager-工作者-1"><a href="#BackgroundWorkerManager-工作者-1" class="headerlink" title="BackgroundWorkerManager 工作者"></a>BackgroundWorkerManager 工作者</h2><p>在ABP项目的目录结构：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190509104729.png" alt="QQ截图20190509104729.png"></p>
<p><code>IBackgroundJob/BackgroundJob</code>：定义一个后台工作任务的接口/和基本实现。具体的后台任务类可从 <code>BackgroundJob</code> 继承，这是定义最终需要被执行的逻辑的地方。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190509113529.png" alt="QQ截图20190509113529.png"></p>
<p><code>BackgroundJobInfo</code>：用于持久化job信息的实体类，对应于数据库中的表 <code>AbpBackgroundJobs</code>。一个job对应一个要执行的任务。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190509131552.png" alt="QQ截图20190509131552.png"></p>
<p><code>IBackgroundJobConfiguration/BackgroundJobConfiguration</code>：配置是否激活后台工作任务功能。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190509114407.png" alt="QQ截图20190509114407.png"></p>
<p><code>BackgroundJobPriority</code>：后台job的优先级。</p>
<p><code>IBackgroundJobStore/InMemoryBackgroundJobStore</code>: 用于持久化后台任务 <code>BackgroundJobInfo</code>。可以实现这个接口将后台任务 <code>BackgroundJobInfo</code> 存储到数据库。</p>
<p><code>IBackgroundJobManager/BackgroundJobManager</code>：<code>IBackgroundJobManager</code> 继承 <code>IBackgroundWorker</code>，<code>BackgroundJobManager</code> 默认实现 <code>IBackgroundJobManager</code> ，并 继承 <code>PeriodicBackgroundWorkerBase</code>。它可以被其他的后台工作提供者替代（Hangfire）。<code>BackgroundJobManager</code>之所以能在后台执行任务，是因为其继承了<code>PeriodicBackgroundWorkerBase</code> 基类，并重写了DoWork方法。从 <code>BackgroundJobStore</code>（可以自定义实现从数据库中读取）取最多1000个 <code>BackgroundJobInfo</code>，然后反射执行 <code>BackgroundJobInfo</code> 中定义的任务。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190509131058.png" alt="QQ截图20190509131058.png"></p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190509131329.png" alt="QQ截图20190509131329.png"></p>
<p>下面是一个ABP中通过 <code>BackgroundJobManager</code> 安排 <code>BackgroundJob</code> 的例子。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190509132129.png" alt="QQ截图20190509132129.png"></p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/1zhk/p/5304244.html">ABP源码分析九：后台工作任务</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/05/07/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%886%EF%BC%89-%20Logging%E8%A7%A3%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/07/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%886%EF%BC%89-%20Logging%E8%A7%A3%E6%9E%90/" class="post-title-link" itemprop="url">ABP框架学习记录（6）- Logging解析</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-05-07 09:15:27" itemprop="dateCreated datePublished" datetime="2019-05-07T09:15:27+00:00">2019-05-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ABP/" itemprop="url" rel="index"><span itemprop="name">ABP</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>624</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ABP框架学习记录（6）-Logging解析"><a href="#ABP框架学习记录（6）-Logging解析" class="headerlink" title="ABP框架学习记录（6）- Logging解析"></a>ABP框架学习记录（6）- Logging解析</h1><p>ABP使用Castle日志记录工具，并且可以使用不同的日志类库，比如：Log4Net, NLog, Serilog… 等等。对于所有的日志类库，Castle提供了一个通用的接口来实现，我们可以很方便的处理各种特殊的日志库，而且当业务需要的时候，很容易替换日志组件。</p>
<p><code>LogSeverity</code>：表示日志的严重性，枚举类型，定义了5个日志级别：Info，Debug，Warn，Error， Fatal。</p>
<p><code>IHasLogSeverity</code>：封装了LogSeverity。<code>AbpAuthorizationException</code>，<code>AbpValidationException</code>，<code>UserFriendlyException</code> 实现了这个接口。<code>Loghelper</code> 在对 <code>Exception</code> 做log的时候可以方便的通过实现了<code>IHasLogSeverity</code>的 <code>Exception</code> 的实例获取到 <code>LogSeverity</code>，以确定log 级别。</p>
<p><code>AbpAuthorizationException</code>:</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190507105847.png" alt="QQ截图20190507105847.png"></p>
<p><code>LogHelper</code> 的实现：把继承 <code>IHasLogSeverity</code> 接口的对象，转换成 <code>IHasLogSeverity</code> 对象，并获取log级别。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190507110228.png" alt="QQ截图20190507110228.png"></p>
<p><code>LoggerExtensions</code>： 扩展了Castle的Ilogger接口的方法，封装更便捷的方法供Loghelper调用。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190507110501.png" alt="QQ截图20190507110501.png"></p>
<p>web项目的application_start方法中注入logger实例：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190507110701.png" alt="QQ截图20190507110701.png"></p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/1zhk/p/5294466.html">ABP源码分析八：Logger集成</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/05/06/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%885%EF%BC%89-%20Setting%E8%A7%A3%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/06/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%885%EF%BC%89-%20Setting%E8%A7%A3%E6%9E%90/" class="post-title-link" itemprop="url">ABP框架学习记录（5）- Setting解析</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-05-06 13:30:09" itemprop="dateCreated datePublished" datetime="2019-05-06T13:30:09+00:00">2019-05-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ABP/" itemprop="url" rel="index"><span itemprop="name">ABP</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ABP框架学习记录（5）-Setting解析"><a href="#ABP框架学习记录（5）-Setting解析" class="headerlink" title="ABP框架学习记录（5）- Setting解析"></a>ABP框架学习记录（5）- Setting解析</h1><p>ABP中的 <code>Setting</code> 和 <code>Configuration</code>：</p>
<p>Setting一般用于需要通过外部配置文件（或数据库）设置的简单类型数据（一般就是字符串）。</p>
<p>Configuration一般只需要通过内部代码完成的配置，一般用于设置复杂类型的数据。</p>
<h2 id="Setting的实现"><a href="#Setting的实现" class="headerlink" title="Setting的实现"></a>Setting的实现</h2><p><code>SettingDefinition</code>：用于定义Setting。</p>
<p><code>SettingDefinitionGroup</code>：用于给<code>SettingDefinition</code>分组。</p>
<p><code>SettingsConfiguration</code> / <code>ISettingsConfiguration</code>：用于集中化设置和管理 <code>SettingProvider</code> 的对象。其封装了一个<code>ITypeList&lt;SettingProvider&gt; Providers</code>的集合类。可以通过<code>Configuration.Setting</code>来获取<code>ISettingsConfiguration</code>实例，然后将自定义的 <code>SettingProvider</code> 添加到 <code>SettingsConfiguration</code> 对象中，下图：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506162020.png" alt="QQ截图20190506162020.png"></p>
<p><code>SettingDefinitionManager</code>：主要完成注册到ABP中的 <code>SettingDefinition</code> 初始化，通过 <code>ISettingsConfiguration</code> 实例获取 <code>setting providers</code> 集合，然后在 <code>Initialize</code> 方法中通过 <code>setting providers</code> 获取 <code>SettingDefinition</code> 的数组。并将其保存在 <code>Dictionary</code> 中，其key就是 <code>SettingDefinition</code> 的Name，下图：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506162528.png" alt="QQ截图20190506162528.png"></p>
<p><code>SettingDefinitionManager</code> 继承 <code>ISingletonDependency</code>接口，将在<code>BasicConventionalRegistrar</code>类中实现约定规则的注入：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506163107.png" alt="QQ截图20190506163107.png"></p>
<p><code>AbpKernelModule</code> 中 <code>PostInitialize</code> 调用 <code>SettingDefinitionManager</code>的 <code>Initialize</code>方法：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506173110.png" alt="QQ截图20190506173110.png"></p>
<p><code>SettingDefinitionProviderContext</code>：用于对 <code>ISettingDefinitionManager</code> 的封装：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506162348.png" alt="QQ截图20190506162348.png"></p>
<p><code>SettingScopes</code>：标注了Flags特性的枚举类型，表示setting的应用范围：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506162316.png" alt="QQ截图20190506162316.png"></p>
<p><code>SettingProvider</code>：为具体的功能模块所需的设置定义 <code>SettingDefinition</code>，并且以数组的形式返回：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506170342.png" alt="QQ截图20190506170342.png"></p>
<p><code>SettingManager</code> / <code>ISettingManager</code> ：用户获取配置详情。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506172935.png" alt="QQ截图20190506172935.png"></p>
<p>公共方法：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506173541.png" alt="QQ截图20190506173541.png"></p>
<h2 id="以mail的实现来使用Setting"><a href="#以mail的实现来使用Setting" class="headerlink" title="以mail的实现来使用Setting"></a>以mail的实现来使用Setting</h2><p>目录结构：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506173847.png" alt="QQ截图20190506173847.png"></p>
<p><code>IEmailSenderConfiguration</code>/<code>EmailSenderConfiguration</code> 和 <code>ISmtpEmailSenderConfiguration</code>/<code>SmtpEmailSenderConfiguration</code>：定义配置。</p>
<p><code>EmailSenderConfiguration</code>：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190509145449.png" alt="QQ截图20190509145449.png"></p>
<p><code>SmtpEmailSenderConfiguration</code>：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190509145529.png" alt="QQ截图20190509145529.png"></p>
<p><code>EmailSettingProvider</code>：继承自 <code>SettingProvider</code>, 将SMTP的各项设置封装成<code>SettingDefinition</code>，并以数组形式返回。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190509145337.png" alt="QQ截图20190509145337.png"></p>
<p><code>EmailSenderBase</code>/<code>IEmailSender</code> 和 <code>ISmtpEmailSender</code>/<code>SmtpEmailSender</code>：用户发送邮件。</p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/1zhk/p/5299469.html">ABP源码分析七：Setting 以及 Mail</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/05/05/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%884%EF%BC%89-%20Configuration%E8%A7%A3%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/05/05/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%884%EF%BC%89-%20Configuration%E8%A7%A3%E6%9E%90/" class="post-title-link" itemprop="url">ABP框架学习记录（4）- Configuration解析</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-05-05 17:26:31" itemprop="dateCreated datePublished" datetime="2019-05-05T17:26:31+00:00">2019-05-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ABP/" itemprop="url" rel="index"><span itemprop="name">ABP</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ABP框架学习记录（4）-Configuration解析"><a href="#ABP框架学习记录（4）-Configuration解析" class="headerlink" title="ABP框架学习记录（4）- Configuration解析"></a>ABP框架学习记录（4）- Configuration解析</h1><p>目录结构：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506094754.png" alt="QQ截图20190506094754.png"></p>
<p>通过 <code>AbpStartupConfiguration</code>，Castle的依赖注入，<code>Dictionary</code> 对象和扩展方法实现了配置中心化。配置中心化是一个支持模块开发的框架必备功能。</p>
<h2 id="核心模块配置"><a href="#核心模块配置" class="headerlink" title="核心模块配置"></a>核心模块配置</h2><h3 id="模块配置"><a href="#模块配置" class="headerlink" title="模块配置"></a>模块配置</h3><p>ABP中核心功能模块中的一些功能的运行时的行为依赖于一些外部配置。比如 <code>Localization</code> 这个功能模块，最基本Abp需要知道要做哪些语言的本地化。而这些具体的配置对于Abp底层框架来说是不可预知的，那么ABP底层框架就很有必要提供一种手段供外部模块自定义 <code>Congfiguration</code>。 这就是下文要分析的 <code>IAbpStartupConfiguration</code> 和各种<code>I***Configuration</code>。</p>
<p>通过 <code>AbpBootstrapper</code> 的 <code>Initialize</code> 方法，注册 <code>AbpCoreInstaller</code>:</p>
<p>具体请参考：<a target="_blank" rel="noopener" href="https://syxdevcode.github.io/2019/04/30/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%882%EF%BC%89-%20ABP%E5%88%9D%E5%A7%8B%E5%8C%96/">ABP框架学习记录（2） - ABP初始化</a></p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506101758.png" alt="QQ截图20190506101758.png"></p>
<p><code>AbpCoreInstaller</code>:</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506101856.png" alt="QQ截图20190506101856.png"></p>
<p><code>IAbpStartupConfiguration</code>/<code>AbpStartupConfiguration</code> :  <code>Initialize</code> 方法，通过调用容器，获取基础配置实例。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506102036.png" alt="QQ截图20190506102036.png"></p>
<h3 id="调用配置"><a href="#调用配置" class="headerlink" title="调用配置"></a>调用配置</h3><p>抽象类 <code>AbpModule</code> 提供 <code>Configuration</code> 字段，继承 <code>AbpModule</code> 的子类，可以直接调用或修改某个组件的<code>Configuration</code> 。</p>
<p><code>AbpModule</code>：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506102516.png" alt="QQ截图20190506102516.png"></p>
<p>调用/修改：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506102855.png" alt="QQ截图20190506102855.png"></p>
<h2 id="自定义模块配置"><a href="#自定义模块配置" class="headerlink" title="自定义模块配置"></a>自定义模块配置</h2><h3 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h3><p>以 <code>IAbpWebCommonModuleConfiguration</code> 为例：</p>
<p>定义 <code>IAbpWebCommonModuleConfiguration</code> 接口：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506113226.png" alt="QQ截图20190506113226.png"></p>
<p><code>AbpWebCommonModule</code> 中的 <code>PreInitialize</code> 方法注册实例：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506113321.png" alt="QQ截图20190506113321.png"></p>
<h3 id="获取"><a href="#获取" class="headerlink" title="获取"></a>获取</h3><p><code>DictionaryBasedConfig</code> 定义的 <code>CustomSettings</code> 就是最终保存自定义的module的Configuration的地方。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506111029.png" alt="QQ截图20190506111029.png"></p>
<p><code>AbpStartupConfiguration</code> 继承 <code>DictionaryBasedConfig</code>：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506111449.png" alt="QQ截图20190506111449.png"></p>
<p><code>IModuleConfigurations</code> 中定义 <code>IAbpStartupConfiguration</code>：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506111717.png" alt="QQ截图20190506111717.png"></p>
<p><code>ModuleConfigurations</code> 的实现：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506113929.png" alt="QQ截图20190506113929.png"></p>
<p><code>AbpWebConfigurationExtensions</code> 提供对 <code>IModuleConfigurations</code> 的扩展：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506112702.png" alt="QQ截图20190506112702.png"></p>
<p><code>AbpStartupConfiguration</code> 获取配置方法：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506131005.png" alt="QQ截图20190506131005.png"></p>
<p><code>DictionaryBasedConfig</code>中定义的方法：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506131238.png" alt="QQ截图20190506131238.png"></p>
<p>使用 <code>AbpWebConfigurationExtensions</code>：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506113848.png" alt="QQ截图20190506113848.png"></p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/1zhk/p/5285623.html">ABP源码分析四：Configuration</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/04/30/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%883%EF%BC%89-%20%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E8%A7%A3%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/04/30/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%883%EF%BC%89-%20%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E8%A7%A3%E6%9E%90/" class="post-title-link" itemprop="url">ABP框架学习记录（3）- 依赖注入解析</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-04-30 17:04:33" itemprop="dateCreated datePublished" datetime="2019-04-30T17:04:33+00:00">2019-04-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ABP/" itemprop="url" rel="index"><span itemprop="name">ABP</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ABP框架学习记录（3）-依赖注入解析"><a href="#ABP框架学习记录（3）-依赖注入解析" class="headerlink" title="ABP框架学习记录（3）- 依赖注入解析"></a>ABP框架学习记录（3）- 依赖注入解析</h1><p>ABP的依赖注入的实现本质上是依赖于Castle依赖注入的框架。<br>实现途径有两种：一种实现途径是通过实现<code>IConventionalDependencyRegistrar</code> 的实例定义注入的约定（规则），然后通过 <code>IocManager</code> 来读取这个规则完成依赖注入。另一种实现途径是直接 <code>IocManager</code> 的 <code>Register</code> 方法直接完成注入。</p>
<p>目录结构：</p>
<p>代码在Abp项目文件的Dependency文件夹：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190430174143.png" alt="QQ截图20190430174143.png"></p>
<h2 id="注入方式"><a href="#注入方式" class="headerlink" title="注入方式"></a>注入方式</h2><h3 id="直接注入"><a href="#直接注入" class="headerlink" title="直接注入"></a>直接注入</h3><p>Abp定义 <code>IocManager</code> 类，以提供依赖注入的管理，内部提供 <code>IocManager</code> 静态字段和 <code>IocContainer</code> 实例字段。</p>
<p><code>IocManager</code> 类定义了静态构造和实例构造，以确保在创建第一个实例或引用任何静态成员之前自动调用静态构造函数。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190505153836.png" alt="QQ截图20190505153836.png"></p>
<p>提供Register方法：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190505164520.png" alt="QQ截图20190505164520.png"></p>
<p><code>AbpModule</code> 有个受保护的 <code>IocManager</code> 的成员，所以 <code>AbpModule</code> 的派生类都可以使用这个 <code>IocManager</code> 完成注册。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190505154320.png" alt="QQ截图20190505154320.png"></p>
<h3 id="约定（规则）"><a href="#约定（规则）" class="headerlink" title="约定（规则）"></a>约定（规则）</h3><p><code>ConventionalRegistrationConfig</code>：封装了一个bool属性 <code>InstallInstallers</code>，用以告诉Abp底层框架是否要register相应assembly中的通过IWindsorInstaller接口指定的register规则，默认true。</p>
<p><code>IConventionalRegistrationContext</code>/<code>ConventionalRegistrationContext</code>: 和其他上下文类起的作用类似。主要就是作为方法参数方便方法间的传递数据。这里主要封装了 <code>Assembly</code> ，<code>IocManager</code> 和 <code>ConventionalRegistrationConfig</code>。</p>
<p><code>IConventionalDependencyRegistrar</code>：用于按约定注册依赖项。</p>
<p><code>IocManager</code> 提供 <code>IConventionalDependencyRegistrar</code> 的集合，<code>IocManager</code> 在 <code>RegisterAssemblyByConvention</code> 方法中遍历这个list，并根据<code>IConventionalDependencyRegistrar</code> 的实例中定义的规则来完成register。</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">readonly</span> List&lt;IConventionalDependencyRegistrar&gt; _conventionalRegistrars;</span><br></pre></td></tr></table></figure>

<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190505163142.png" alt="QQ截图20190505163142.png"></p>
<p><code>IConventionalDependencyRegistrar</code> 接口实现：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190506163107.png" alt="QQ截图20190506163107.png"></p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190505163519.png" alt="QQ截图20190505163519.png"></p>
<h2 id="扩展方法"><a href="#扩展方法" class="headerlink" title="扩展方法"></a>扩展方法</h2><p>ABP提供 <code>IocRegistrarExtensions</code>,<code>IocResolverExtensions</code> 来扩展 <code>IIocRegistrar</code>，<code>IIocResolver</code> 接口的实现类。</p>
<p>IocRegistrarExtensions：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190505165639.png" alt="QQ截图20190505165639.png"></p>
<p>IocResolverExtensions：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190505170652.png" alt="QQ截图20190505170652.png"></p>
<p><code>IDisposableDependencyObjectWrapper&lt;out T&gt;</code>/<code>IDisposableDependencyObjectWrapper</code> 接口：提供释放已解析的对象的方法。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190505171227.png" alt="QQ截图20190505171227.png"></p>
<p>应用：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190505170929.png" alt="QQ截图20190505170929.png"></p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/1zhk/p/5296124.html">ABP源码分析六：依赖注入的实现</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/04/30/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%882%EF%BC%89-%20ABP%E5%88%9D%E5%A7%8B%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/04/30/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%882%EF%BC%89-%20ABP%E5%88%9D%E5%A7%8B%E5%8C%96/" class="post-title-link" itemprop="url">ABP框架学习记录（2）- ABP初始化</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-04-30 09:18:00" itemprop="dateCreated datePublished" datetime="2019-04-30T09:18:00+00:00">2019-04-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ABP/" itemprop="url" rel="index"><span itemprop="name">ABP</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>870</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ABP框架学习记录（2）-ABP初始化"><a href="#ABP框架学习记录（2）-ABP初始化" class="headerlink" title="ABP框架学习记录（2）- ABP初始化"></a>ABP框架学习记录（2）- ABP初始化</h1><p>ASP.NET Web应用程序的第一个执行的方法是 Global.asax 下定义的Start方法。执行这个方法前 <code>HttpApplication</code> 实例必须存在，也就是说其构造函数的执行必然是完成了。</p>
<h2 id="AbpWebApplication"><a href="#AbpWebApplication" class="headerlink" title="AbpWebApplication"></a>AbpWebApplication</h2><p>Global.asax 中 <code>MvcApplication</code> 继承自泛型 <code>AbpWebApplication&lt;&gt;</code> ,并提供 <code>AbpZeroTemplateWebModule</code> 作为 <code>StartupModule</code>。</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190430093710.png" alt="QQ截图20190430093710.png"></p>
<p>泛型 <code>AbpWebApplication&lt;&gt;</code> (下图)，继承自 <code>HttpApplication</code>，实例化 <code>AbpBootstrapper</code> 对象:</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190430134242.png" alt="QQ截图20190430134242.png"></p>
<h2 id="AbpBootstrapper"><a href="#AbpBootstrapper" class="headerlink" title="AbpBootstrapper"></a>AbpBootstrapper</h2><p>在 <code>AbpBootstrapper</code> 的构造函数中，实例化 <code>AbpBootstrapperOptions</code> 对象，以提供 <code>IocManager</code> 实例：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190430135239.png" alt="QQ截图20190430135239.png"></p>
<p><code>AbpBootstrapperOptions</code> 类：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190430135457.png" alt="QQ截图20190430135457.png"></p>
<p><code>AbpBootstrapper</code> 类提供私有构造函数，并且提供泛型 <code>Create</code> 方法以创建实例：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190510165701.png" alt="QQ截图20190510165701.png"></p>
<p><code>Create</code> ：方法</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190510165854.png" alt="QQ截图20190510165854.png"></p>
<p>拦截器注册：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190510170025.png" alt="QQ截图20190510170025.png"></p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190510170146.png" alt="QQ截图20190510170146.png"></p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190510170458.png" alt="QQ截图20190510170458.png"></p>
<p>1，<code>Initialize</code> 方法：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190430140353.png" alt="QQ截图20190430140353.png"></p>
<p>2，<code>Initialize</code> 作用：</p>
<p>(1)，安装 <code>AbpCoreInstaller</code>； <code>AbpCoreInstaller</code> 的作用是用来注册系统框架级的所有配置类。</p>
<p><code>AbpCoreInstaller</code> 类：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190430140706.png" alt="QQ截图20190430140706.png"></p>
<p>(2)，增加插件</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IocManager.Resolve&lt;AbpPlugInManager&gt;().PlugInSources.AddRange(PlugInSources);</span><br></pre></td></tr></table></figure>

<p>(3)，初始化配置</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190430143142.png" alt="QQ截图20190430143142.png"></p>
<p>(4)，通过 <code>AbpModuleManager</code> 管理 <code>AdpModule</code>;</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">_moduleManager = IocManager.Resolve&lt;AbpModuleManager&gt;();</span><br><span class="line">_moduleManager.Initialize(StartupModule);</span><br><span class="line">_moduleManager.StartModules();</span><br></pre></td></tr></table></figure>

<p>参考：</p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/1zhk/p/5277610.html">ABP源码分析二：ABP中配置的注册和初始化 </a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/04/29/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%881%EF%BC%89-%20ABP%20Module/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/04/29/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%881%EF%BC%89-%20ABP%20Module/" class="post-title-link" itemprop="url">ABP框架学习记录（1）- ABP Module</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-04-29 14:11:48" itemprop="dateCreated datePublished" datetime="2019-04-29T14:11:48+00:00">2019-04-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ABP/" itemprop="url" rel="index"><span itemprop="name">ABP</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Abp是一种基于模块化设计的思想构建的。开发人员可以将自定义的功能以模块（module）的形式集成到ABP中。具体的功能都可以设计成一个单独的Module。Abp底层框架提供便捷的方法集成每个Module。</p>
<h2 id="AbpModule"><a href="#AbpModule" class="headerlink" title="AbpModule"></a>AbpModule</h2><p>在 <code>Abp</code> 项目下的 <code>Abp.Modules</code> 文件夹下定义了抽象类 <code>AbpModule</code> ，它提供了两个受保护的属性和四个虚方法：</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> IOC 管理</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">internal</span> IIocManager IocManager &#123; <span class="keyword">get</span>; <span class="keyword">internal</span> <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 配置</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">internal</span> IAbpStartupConfiguration Configuration &#123; <span class="keyword">get</span>; <span class="keyword">internal</span> <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 应用程序启动时调用的第一个事件，在依赖注入之前运行</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PreInitialize</span>()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 注册依赖项</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Initialize</span>()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 应用程序启动时调用</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PostInitialize</span>()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 关闭应用程序时调用</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Shutdown</span>()</span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="DependsOnAttribute"><a href="#DependsOnAttribute" class="headerlink" title="DependsOnAttribute"></a>DependsOnAttribute</h2><p><code>AbpModule</code> 还提供 <code>FindDependedModuleTypes</code> 方法，获取使用 <code>DependsOnAttribute</code> 属性的<br><code>Module</code> 集合：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190429152244.png" alt="QQ截图20190429152244.png"></p>
<h2 id="AbpModuleManager"><a href="#AbpModuleManager" class="headerlink" title="AbpModuleManager"></a>AbpModuleManager</h2><p><code>Abp.Modules</code> 文件夹下定义了 <code>AbpModuleManager</code> 类，来管理 <code>ABPModule</code>：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190429161029.png" alt="QQ截图20190429161029.png"></p>
<h2 id="AbpModuleCollection"><a href="#AbpModuleCollection" class="headerlink" title="AbpModuleCollection"></a>AbpModuleCollection</h2><p><code>AbpModuleCollection</code> 类继承 <code>List&lt;AbpModuleInfo&gt;</code>：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190429162910.png" alt="QQ截图20190429162910.png"></p>
<p><code>AbpModuleManager</code> 得到所有的 <code>AbpModule</code> 的 <code>AbpModuleInfo</code> 以后，逐个调用这些 <code>Module</code> 的   <code>PreInitialize</code> ，<code>Initialize</code> 和 <code>PostInitialize</code> 以完成初始化：</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190430132848.png" alt="QQ截图20190430132848.png"></p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">StartModules</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> sortedModules = _modules.GetSortedModuleListByDependency();</span><br><span class="line">    sortedModules.ForEach(module =&gt; module.Instance.PreInitialize());</span><br><span class="line">    sortedModules.ForEach(module =&gt; module.Instance.Initialize());</span><br><span class="line">    sortedModules.ForEach(module =&gt; module.Instance.PostInitialize());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="AbpKernelModule"><a href="#AbpKernelModule" class="headerlink" title="AbpKernelModule"></a>AbpKernelModule</h2><p>Abp底层框架的一些功能模块的类型通过 <code>AbpKernelModule</code> 实现:</p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190429163427.png" alt="QQ截图20190429163427.png"></p>
<p><img src="/img/QQ%E6%88%AA%E5%9B%BE20190429163852.png" alt="QQ截图20190429163852.png"></p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/1zhk/p/5281458.html">ABP源码分析三：ABP Module </a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/04/28/CSharp%E4%B8%ADDebuggerStepThrough%E7%89%B9%E6%80%A7%E8%8A%82%E7%9C%81Debug%E6%97%B6%E9%97%B4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/04/28/CSharp%E4%B8%ADDebuggerStepThrough%E7%89%B9%E6%80%A7%E8%8A%82%E7%9C%81Debug%E6%97%B6%E9%97%B4/" class="post-title-link" itemprop="url">CSharp中DebuggerStepThrough特性节省Debug时间</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-04-28 15:03:41" itemprop="dateCreated datePublished" datetime="2019-04-28T15:03:41+00:00">2019-04-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CSharp%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">CSharp基础</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>687</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="CSharp中DebuggerStepThrough特性节省Debug时间"><a href="#CSharp中DebuggerStepThrough特性节省Debug时间" class="headerlink" title="CSharp中DebuggerStepThrough特性节省Debug时间"></a>CSharp中DebuggerStepThrough特性节省Debug时间</h1><p><code>DebuggerStepThroughAttribute</code>: 指示调试器逐句通过代码，而不是单步执行代码。</p>
<p>只支持类，结构，构造方法，方法。</p>
<p>此属性避免必须进入编译器提供的代码，只进入开发人员提供的代码。例如，如果使用F11（Step Into）键逐步执行代码，则该属性将使步骤的行为类似于编译器提供的代码的F10（Step Over）键。该方法不会被引入，但它将被执行。</p>
<p>例如：</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">DebuggerStepThrough</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">Check</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">ContractAnnotation(<span class="string">&quot;value:null =&gt; halt&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> T <span class="title">NotNull</span>&lt;<span class="title">T</span>&gt;(<span class="params">T <span class="keyword">value</span>, [InvokerParameterName] [NotNull] <span class="built_in">string</span> parameterName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">value</span> == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(parameterName);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">value</span>;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 执行代码</span></span><br><span class="line">partdto part = <span class="keyword">new</span> partdto();</span><br><span class="line">Check.NotNull(part.PartDto, <span class="string">&quot;partDTO&quot;</span>); <span class="comment">// 按F11执行单步调试，则编译器会执行类似F10的行为</span></span><br></pre></td></tr></table></figure>

<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/dotnet/api/system.diagnostics.debuggerstepthroughattribute?view=netframework-4.8">DebuggerStepThroughAttribute Class</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/visualstudio/debugger/just-my-code?view=vs-2015">仅我的代码</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/04/26/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%20-%20%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/04/26/ABP%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%20-%20%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95/" class="post-title-link" itemprop="url">ABP框架学习记录 - 文章目录</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-04-26 13:31:45" itemprop="dateCreated datePublished" datetime="2019-04-26T13:31:45+00:00">2019-04-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ABP/" itemprop="url" rel="index"><span itemprop="name">ABP</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>240</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ABP框架学习记录-文章目录"><a href="#ABP框架学习记录-文章目录" class="headerlink" title="ABP框架学习记录 - 文章目录"></a>ABP框架学习记录 - 文章目录</h1><p>什么是ASP.NET Boilerplate？<br>ASP.NET Boilerplate（ABP）是一个开源且文档齐全的应用程序框架。 它不仅仅是一个框架，它还提供了一个基于域驱动设计的强大架构模型，并考虑了所有最佳实践。</p>
<p>ABP与最新的ASP.NET Core和EF Core一起使用，但也支持ASP.NET MVC 5.x和EF 6.x。</p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://aspnetboilerplate.com/Pages/Documents">https://aspnetboilerplate.com/Pages/Documents</a></p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/1zhk/p/5268054.html">ABP源码分析一：整体项目结构及目录 </a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/04/25/WCF%E6%8E%A5%E5%8F%A3%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B%E5%BA%8F%E5%88%97%E5%8C%96%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/04/25/WCF%E6%8E%A5%E5%8F%A3%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B%E5%BA%8F%E5%88%97%E5%8C%96%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">WCF接口时间类型序列化问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-04-25 13:30:37" itemprop="dateCreated datePublished" datetime="2019-04-25T13:30:37+00:00">2019-04-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/WCF%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B%E5%BA%8F%E5%88%97%E5%8C%96/" itemprop="url" rel="index"><span itemprop="name">WCF时间类型序列化</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="WCF接口时间类型序列化问题"><a href="#WCF接口时间类型序列化问题" class="headerlink" title="WCF接口时间类型序列化问题"></a>WCF接口时间类型序列化问题</h1><p>使用 <code>Json.Net</code> 序列化或者反序列化 <code>DateTime</code> 类型时，通过设置 <code>JsonSerializerSettings</code> 对象，即可支持 WCF 时间类型，示例如下：</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">WCFModel</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> DateTime CreatedDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">WCFDateTimeConvert</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    WCFModel p = <span class="keyword">new</span> WCFModel &#123; CreatedDate = TimeZone.CurrentTimeZone.ToLocalTime(DateTime.UtcNow) &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> settings = <span class="keyword">new</span> JsonSerializerSettings</span><br><span class="line">    &#123;</span><br><span class="line">        DateFormatHandling = DateFormatHandling.MicrosoftDateFormat</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">string</span> json = JsonConvert.SerializeObject(p, settings);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> dObj = JsonConvert.DeserializeObject&lt;WCFModel&gt;(json, settings);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>具体实现源码路径 <code>Newtonsoft.Json\Utilities</code> 第635行：</p>
<p>Json.Net 源码地址：<a target="_blank" rel="noopener" href="https://github.com/JamesNK/Newtonsoft.Json/blob/master/Src/Newtonsoft.Json/Utilities/DateTimeUtils.cs">https://github.com/JamesNK/Newtonsoft.Json/blob/master/Src/Newtonsoft.Json/Utilities/DateTimeUtils.cs</a></p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">internal</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">WriteDateTimeString</span>(<span class="params"><span class="built_in">char</span>[] chars, <span class="built_in">int</span> start, DateTime <span class="keyword">value</span>, TimeSpan? offset, DateTimeKind kind, DateFormatHandling format</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> pos = start;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (format == DateFormatHandling.MicrosoftDateFormat)</span><br><span class="line">    &#123;</span><br><span class="line">        TimeSpan o = offset ?? <span class="keyword">value</span>.GetUtcOffset();</span><br><span class="line"></span><br><span class="line">        <span class="built_in">long</span> javaScriptTicks = ConvertDateTimeToJavaScriptTicks(<span class="keyword">value</span>, o);</span><br><span class="line"></span><br><span class="line">        <span class="string">@&quot;\/Date(&quot;</span>.CopyTo(<span class="number">0</span>, chars, pos, <span class="number">7</span>);</span><br><span class="line">        pos += <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">string</span> ticksText = javaScriptTicks.ToString(CultureInfo.InvariantCulture);</span><br><span class="line">        ticksText.CopyTo(<span class="number">0</span>, chars, pos, ticksText.Length);</span><br><span class="line">        pos += ticksText.Length;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (kind)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> DateTimeKind.Unspecified:</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">value</span> != DateTime.MaxValue &amp;&amp; <span class="keyword">value</span> != DateTime.MinValue)</span><br><span class="line">                &#123;</span><br><span class="line">                    pos = WriteDateTimeOffset(chars, pos, o, format);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> DateTimeKind.Local:</span><br><span class="line">                pos = WriteDateTimeOffset(chars, pos, o, format);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="string">@&quot;)\/&quot;</span>.CopyTo(<span class="number">0</span>, chars, pos, <span class="number">3</span>);</span><br><span class="line">        pos += <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        pos = WriteDefaultIsoDate(chars, pos, <span class="keyword">value</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (kind)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> DateTimeKind.Local:</span><br><span class="line">                pos = WriteDateTimeOffset(chars, pos, offset ?? <span class="keyword">value</span>.GetUtcOffset(), format);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> DateTimeKind.Utc:</span><br><span class="line">                chars[pos++] = <span class="string">&#x27;Z&#x27;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> pos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/04/23/%E6%97%B6%E9%97%B4%E6%88%B3%E4%B8%8E%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/04/23/%E6%97%B6%E9%97%B4%E6%88%B3%E4%B8%8E%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/" class="post-title-link" itemprop="url">时间戳与时间格式转换</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-04-23 15:16:33" itemprop="dateCreated datePublished" datetime="2019-04-23T15:16:33+00:00">2019-04-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%97%B6%E9%97%B4-%E6%97%B6%E9%97%B4%E6%88%B3%E8%BD%AC%E6%8D%A2/" itemprop="url" rel="index"><span itemprop="name">时间/时间戳转换</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="时间戳简介"><a href="#时间戳简介" class="headerlink" title="时间戳简介"></a>时间戳简介</h2><p><font color=#ff0000 size=4 face="黑体">JavaScript时间戳总毫秒数(长度13)，Unix时间戳是总秒数(长度10)。</font></p>
<p><strong>格林威治时间 UTC</strong>： 1970年01月01日00时00分00秒<br><strong>北京时间 Local</strong>：1970年01月01日<font color=#ff0000 size=4 face="黑体">08</font>时00分00秒</p>
<h2 id="JavaScript时间戳转换"><a href="#JavaScript时间戳转换" class="headerlink" title="JavaScript时间戳转换"></a>JavaScript时间戳转换</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(date);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第一种</span></span><br><span class="line">time1 = date.<span class="title function_">getTime</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(time1)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种</span></span><br><span class="line">time2 = date.<span class="title function_">valueOf</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(time2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第三种</span></span><br><span class="line">time3 = <span class="title class_">Date</span>.<span class="title function_">parse</span>(date);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(time3)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> date1 = <span class="keyword">new</span> <span class="title class_">Date</span>(time1);</span><br><span class="line">Y = date.<span class="title function_">getFullYear</span>() + <span class="string">&#x27;-&#x27;</span>;</span><br><span class="line">M = (date.<span class="title function_">getMonth</span>()+<span class="number">1</span> &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span>+(date.<span class="title function_">getMonth</span>()+<span class="number">1</span>) : date.<span class="title function_">getMonth</span>()+<span class="number">1</span>) + <span class="string">&#x27;-&#x27;</span>;</span><br><span class="line">D = date.<span class="title function_">getDate</span>() + <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">h = date.<span class="title function_">getHours</span>() + <span class="string">&#x27;:&#x27;</span>;</span><br><span class="line">m = date.<span class="title function_">getMinutes</span>() + <span class="string">&#x27;:&#x27;</span>;</span><br><span class="line">s = date.<span class="title function_">getSeconds</span>(); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(Y+M+D+h+m+s);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出：</span></span><br><span class="line"><span class="comment">// 第一，第二种更精确，第三种只精确到秒</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Tue Apr 23 2019 17:27:21 GMT+0800 (中国标准时间)</span></span><br><span class="line"><span class="comment">1556011641157</span></span><br><span class="line"><span class="comment">1556011641157</span></span><br><span class="line"><span class="comment">1556011641000</span></span><br><span class="line"><span class="comment">2019-04-23 17:27:21</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p><strong>Date()参数形式有7种</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;month dd,yyyy hh:mm:ss&quot;</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;month dd,yyyy&quot;</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;yyyy/MM/dd hh:mm:ss&quot;</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;yyyy/MM/dd&quot;</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(yyyy,mth,dd,hh,mm,ss);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(yyyy,mth,dd);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(ms);</span><br></pre></td></tr></table></figure>

<h2 id="CSharp时间戳转换"><a href="#CSharp时间戳转换" class="headerlink" title="CSharp时间戳转换"></a>CSharp时间戳转换</h2><h3 id="Unix时间戳转换"><a href="#Unix时间戳转换" class="headerlink" title="Unix时间戳转换"></a>Unix时间戳转换</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> DateTime转换为Unix时间戳</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">long</span> <span class="title">GetUnixTimeStamp</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    System.DateTime startTime = TimeZone.CurrentTimeZone.ToLocalTime(<span class="keyword">new</span> System.DateTime(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, DateTimeKind.Utc));</span><br><span class="line">    <span class="built_in">long</span> timeStamp = (<span class="built_in">long</span>)(TimeZone.CurrentTimeZone.ToLocalTime(DateTime.UtcNow) - startTime).TotalSeconds; <span class="comment">// 相差秒数</span></span><br><span class="line">    <span class="keyword">return</span> timeStamp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 获取本地时间的Unix时间戳</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;time&quot;&gt;</span>本地时间<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> var dt = new DateTime(2019, 4, 30, 15, 30, 00, DateTimeKind.Local);</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">long</span> <span class="title">GetUnixTimeStamp</span>(<span class="params">DateTime time</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    System.DateTime startTime = TimeZone.CurrentTimeZone.ToLocalTime(<span class="keyword">new</span> System.DateTime(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, DateTimeKind.Utc));</span><br><span class="line">    <span class="built_in">long</span> timeStamp = (<span class="built_in">long</span>)(time - startTime).TotalSeconds; <span class="comment">// 相差秒数</span></span><br><span class="line">    <span class="keyword">return</span> timeStamp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Unix时间戳转换为DateTime</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DateTime <span class="title">GetDateTimeByUnix</span>(<span class="params"><span class="built_in">long</span> timeStamp</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    System.DateTime startTime = TimeZone.CurrentTimeZone.ToLocalTime(<span class="keyword">new</span> System.DateTime(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, DateTimeKind.Utc));</span><br><span class="line">    DateTime dt = startTime.AddSeconds(timeStamp);</span><br><span class="line">    <span class="keyword">return</span> dt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用</span></span><br><span class="line"><span class="keyword">var</span> timeStamp1= GetUnixTimeStamp();</span><br><span class="line">Console.WriteLine(timeStamp1);</span><br><span class="line"><span class="keyword">var</span> dt1 = GetDateTimeByUnix(timeStamp1);</span><br><span class="line">System.Console.WriteLine(dt1.ToString(<span class="string">&quot;yyyy/MM/dd HH:mm:ss&quot;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="JavaScript时间戳转换-1"><a href="#JavaScript时间戳转换-1" class="headerlink" title="JavaScript时间戳转换"></a>JavaScript时间戳转换</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> DateTime转换为JavaScript时间戳</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">long</span> <span class="title">GetJavaScriptTimeStamp</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    System.DateTime startTime = TimeZone.CurrentTimeZone.ToLocalTime(<span class="keyword">new</span> System.DateTime(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, DateTimeKind.Utc));</span><br><span class="line">    <span class="built_in">long</span> timeStamp = (<span class="built_in">long</span>)(TimeZone.CurrentTimeZone.ToLocalTime(DateTime.UtcNow) - startTime).TotalMilliseconds; <span class="comment">// 相差毫秒数</span></span><br><span class="line">    <span class="keyword">return</span> timeStamp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> JavaScript时间戳转换为DateTime</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DateTime <span class="title">GetDateTimeByJavaScript</span>(<span class="params"><span class="built_in">long</span> timeStamp</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    System.DateTime startTime = TimeZone.CurrentTimeZone.ToLocalTime(<span class="keyword">new</span> System.DateTime(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, DateTimeKind.Utc));</span><br><span class="line">    DateTime dt = startTime.AddMilliseconds(timeStamp);</span><br><span class="line">    <span class="keyword">return</span> dt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用</span></span><br><span class="line"><span class="keyword">var</span> timeStamp = GetJavaScriptTimeStamp();</span><br><span class="line">Console.WriteLine(timeStamp);</span><br><span class="line"><span class="keyword">var</span> dt = GetDateTimeByJavaScript(timeStamp);</span><br><span class="line">System.Console.WriteLine(dt.ToString(<span class="string">&quot;yyyy/MM/dd HH:mm:ss.fff&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/19971494/how-to-deserialize-a-unix-timestamp-%CE%BCs-to-a-datetime-from-json">How to deserialize a unix timestamp (μs) to a DateTime from JSON?</a></p>
<p><a target="_blank" rel="noopener" href="http://www.w3school.com.cn/jsref/jsref_obj_date.asp">JavaScript Date 对象</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/polk6/p/6024892.html">C# DateTime与时间戳转换</a></p>
<p><a target="_blank" rel="noopener" href="https://www.w3cschool.cn/tryrun/runcode?lang=javascript">JavaScript在线测试</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/04/22/IIS7-5%E4%B9%8BApplicationPoolIdentify%E8%AF%A6%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/04/22/IIS7-5%E4%B9%8BApplicationPoolIdentify%E8%AF%A6%E8%A7%A3/" class="post-title-link" itemprop="url">IIS7.5之ApplicationPoolIdentify详解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-04-22 16:06:28" itemprop="dateCreated datePublished" datetime="2019-04-22T16:06:28+00:00">2019-04-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ApplicationPoolIdentify/" itemprop="url" rel="index"><span itemprop="name">ApplicationPoolIdentify</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="IIS7-5之ApplicationPoolIdentify详解"><a href="#IIS7-5之ApplicationPoolIdentify详解" class="headerlink" title="IIS7.5之ApplicationPoolIdentify详解"></a>IIS7.5之ApplicationPoolIdentify详解</h1><p><code>ApplicationPoolIdentify</code> 在 Windows Server 2008 和 Windows Vista 的 Service Pack 2（SP2）和更高版本的Windows引入的强大的新隔离功能，IIS7.5中首次引用。其它三种包括 <code>LocalService</code> , <code>LocalSystem</code>,<code>NetWorkService</code>。</p>
<p><code>ApplicationPoolIdentify</code> 允许在唯一帐户下运行应用程序池，而无需创建和管理域或本地帐户。应用程序池帐户的名称对应于应用程序池的名称。</p>
<p>下图显示了作为DefaultAppPool标识运行的IIS工作进程（W3wp.exe）。</p>
<p><img src="/img/image3.jpg" alt="image3.jpg"></p>
<p>Windows操作系统提供称为“虚拟帐户”的功能，允许IIS为其每个应用程序池创建唯一标识。</p>
<h2 id="配置IIS-ApplicationPoolIdentify"><a href="#配置IIS-ApplicationPoolIdentify" class="headerlink" title="配置IIS ApplicationPoolIdentify"></a>配置IIS ApplicationPoolIdentify</h2><p>如果在Windows Server 2008 R2或更高版本的IIS上运行IIS 7.5，则无需执行任何操作即可使用新标识。创建的每个应用程序池，默认情况下，新应用程序池的Identity属性设置为ApplicationPoolIdentity。IIS管理进程（WAS）将创建一个具有新应用程序池名称的虚拟帐户，并默认在此帐户下运行应用程序池的工作进程。</p>
<p>要在Windows Server 2008上运行IIS 7.0时使用此虚拟帐户，必须将创建的应用程序池的Identity属性更改为<code>ApplicationPoolIdentity</code>。</p>
<p>方法:</p>
<p>1，打开IIS管理控制台（INETMGR.MSC）<br>2，打开计算机节点下的“应用程序池”节点。选择要更改为在自动生成的应用程序池标识下运行的应用程序池。<br>3，右键单击应用程序池，然后选择高级设置。</p>
<p><img src="/img/image6.jpg" alt="image6.jpg"></p>
<p>4，选择标识列表项，然后单击省略号（带有三个点的按钮）。<br>5，出现以下对话框</p>
<p><img src="/img/image8.jpg" alt="image8.jpg"></p>
<p>6,选择内置帐户按钮，然后从组合框中选择标识类型ApplicationPoolIdentity。</p>
<p>要使用命令行执行相同的步骤，可以通过以下方式调用appcmd命令行工具：</p>
<figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%windir%\system32\inetsrv\appcmd.exe <span class="built_in">set</span> AppPool &lt;your AppPool&gt; <span class="literal">-processModel</span>.identityType:ApplicationPoolIdentity</span><br></pre></td></tr></table></figure>

<h2 id="确保资源安全"><a href="#确保资源安全" class="headerlink" title="确保资源安全"></a>确保资源安全</h2><p>每当创建新的应用程序池时，IIS管理进程都会创建一个安全标识符（SID），该标识符表示应用程序池本身的名称。例如，如果创建名为“MyNewAppPool”的应用程序池，则会在Windows安全系统中创建名为“MyNewAppPool”的安全标识符。从现在开始，可以使用此标识来保护资源。但是，身份不是真实的用户帐户; 它不会在Windows用户管理控制台中显示为用户。</p>
<p>我们可以通过在Windows资源管理器中选择一个文件并将“DefaultAppPool”标识添加到文件的访问控制列表（ACL）来尝试此操作。</p>
<p>1，打开Windows资源管理器<br>2，选择文件或目录。<br>3，右键单击该文件并选择”属性”<br>4，选择”安全”选项卡<br>5，单击编辑按钮，然后单击添加按钮<br>6，单击”位置”按钮，确保选择计算机。</p>
<p><img src="/img/image11.jpg" alt="image11.jpg"></p>
<p>7，在输入要选择的对象名称：文本框中输入 <code>IIS AppPool\DefaultAppPool</code>。<br>8，单击”检查名称”按钮，然后单击“ 确定”。</p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/iis/manage/configuring-security/application-pool-identities">Application Pool Identities</a></p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/jfzhu/p/4067297.html">IIS ApplicationPoolIdentity</a></p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/yjmyzz/archive/2009/10/26/1590033.html">IIS7.5中神秘的ApplicationPoolIdentity </a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/04/16/Chrome%E6%8F%92%E4%BB%B6%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/04/16/Chrome%E6%8F%92%E4%BB%B6%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">Chrome插件记录</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-04-16 15:19:15" itemprop="dateCreated datePublished" datetime="2019-04-16T15:19:15+00:00">2019-04-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Chrome/" itemprop="url" rel="index"><span itemprop="name">Chrome</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Chrome插件记录"><a href="#Chrome插件记录" class="headerlink" title="Chrome插件记录"></a>Chrome插件记录</h1><h2 id="uBlock-Origin"><a href="#uBlock-Origin" class="headerlink" title="uBlock Origin"></a>uBlock Origin</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/ublock-origin/cjpalhdlnbpafiamejdnhcphjbkeiagm?utm_source=chrome-ntp-icon">uBlock Origin</a></p>
<p>一款高效的网络请求过滤工具，占用极低的内存和 CPU。</p>
<h2 id="Tampermonkey"><a href="#Tampermonkey" class="headerlink" title="Tampermonkey"></a>Tampermonkey</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo?hl=zh-CN">Tampermonkey</a></p>
<p>中文俗称油猴，它其实是一个脚本仓库，提供了各式各样的脚本，通过这些脚本，可以完成很多强大的功能，比如去广告，下载百度云盘大文件。</p>
<h2 id="GitCodeTree"><a href="#GitCodeTree" class="headerlink" title="GitCodeTree"></a>GitCodeTree</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/gitcodetree/inaaldjpdbkaodlmdcplgpoibohcmmlj?utm_source=chrome-ntp-icon">GitCodeTree</a></p>
<p>一个浏览器插件，在Gitee、GitHub上显示代码树。不用clone到本地就能查看项目结构。</p>
<h2 id="Postman"><a href="#Postman" class="headerlink" title="Postman"></a>Postman</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop">Postman</a></p>
<p>这是一款强大的 API &amp; HTTP 请求调试工具，它不仅可以调试简单的 HTML、CSS 以及脚本等简单的网页基本信息，这款 Chrome 插件甚至还能发送几乎所有的 HTTP 请求，可谓是 Web 开发者的一大利器。</p>
<h2 id="WEB前端助手-FeHelper"><a href="#WEB前端助手-FeHelper" class="headerlink" title="WEB前端助手(FeHelper)"></a>WEB前端助手(FeHelper)</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/web%E5%89%8D%E7%AB%AF%E5%8A%A9%E6%89%8Bfehelper/pkgccpejnmalmdinmhkkfafefagiiiad?utm_campaign=en">WEB前端助手(FeHelper)</a></p>
<h2 id="阅读模式"><a href="#阅读模式" class="headerlink" title="阅读模式"></a>阅读模式</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/reader-view/iibolhpkjjmoepndefdmdlmbpfhlgjpl/related">阅读模式</a></p>
<h2 id="Git-History-Browser-Extension"><a href="#Git-History-Browser-Extension" class="headerlink" title="Git History Browser Extension"></a>Git History Browser Extension</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/git-history-browser-exten/laghnmifffncfonaoffcndocllegejnf">Git History Browser Extension</a></p>
<p>在 GitHub 中，显示任意一个文件的历史修改情况。</p>
<h2 id="二维码生成器"><a href="#二维码生成器" class="headerlink" title="二维码生成器"></a>二维码生成器</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/quick-qr-code-generator/afpbjjgbdimpioenaedcjgkaigggcdpp/related?hl=zh-CN">二维码生成器 (Quick QR)</a></p>
<p>可以将输入的任何内容转换成二维码图片，图片可以保存，并且无需联网。</p>
<h2 id="翻译侠"><a href="#翻译侠" class="headerlink" title="翻译侠"></a>翻译侠</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/translate-man/fnjoonbenhhijnoegpfkpagjamomgjjm/related?hl=zh-CN">翻译侠（Translate Man）</a></p>
<h2 id="Chromoji-Emoji"><a href="#Chromoji-Emoji" class="headerlink" title="Chromoji - Emoji"></a>Chromoji - Emoji</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/chromoji-emoji-for-google/cahedbegdkagmcjfolhdlechbkeaieki/related">Chromoji - Emoji</a></p>
<p>表情工具。</p>
<h2 id="喵喵折"><a href="#喵喵折" class="headerlink" title="喵喵折+"></a>喵喵折+</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/%E5%96%B5%E5%96%B5%E6%8A%98%20/ekbmhggedfdlajiikminikhcjffbleac">喵喵折+</a></p>
<p>购物比价神器,对比一件商品现在的价格比历史价格是高还是低。</p>
<h2 id="购物党自动比价工具"><a href="#购物党自动比价工具" class="headerlink" title="购物党自动比价工具"></a>购物党自动比价工具</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/%E8%B4%AD%E7%89%A9%E5%85%9A%E8%87%AA%E5%8A%A8%E6%AF%94%E4%BB%B7%E5%B7%A5%E5%85%B7/jgphnjokjhjlcnnajmfjlacjnjkhleah">购物党自动比价工具</a></p>
<p>在线的比价工具，网购的时候可以看价格历史记录，以及各大网站的价格对比，也有查快递的快捷方式。</p>
<h2 id="图流-看图助手"><a href="#图流-看图助手" class="headerlink" title="图流-看图助手"></a>图流-看图助手</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/%E5%9B%BE%E6%B5%81-%E7%9C%8B%E5%9B%BE%E5%8A%A9%E6%89%8B/gpcdnjdgomhddecjpknmfodkpkgibajh/related?utm_source=chrome-ntp-icon">图流-看图助手</a></p>
<p>能够以列表的形式将所有图片展现。</p>
<h2 id="谷歌访问助手"><a href="#谷歌访问助手" class="headerlink" title="谷歌访问助手"></a>谷歌访问助手</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/%E8%B0%B7%E6%AD%8C%E8%AE%BF%E9%97%AE%E5%8A%A9%E6%89%8B/gocklaboggjfkolaknpbhddbaopcepfp?utm_source=chrome-ntp-icon">谷歌访问助手</a></p>
<p>可以科学访问谷歌。</p>
<h2 id="高效网页截图编辑"><a href="#高效网页截图编辑" class="headerlink" title="高效网页截图编辑"></a>高效网页截图编辑</h2><p>截取任意网页，可以像画图软件那样用直线、箭头、圆圈、文字做出标识。并可以方便的通过链接或者附件分享。</p>
<h2 id="JSONViewer"><a href="#JSONViewer" class="headerlink" title="JSONViewer"></a>JSONViewer</h2><p>一个窗口格式化多条JSON，提高开发效率。</p>
<h2 id="Ultimate-Video-Downloader"><a href="#Ultimate-Video-Downloader" class="headerlink" title="Ultimate Video Downloader"></a>Ultimate Video Downloader</h2><p>保存视频和音频变得简单。 </p>
<h2 id="Chrono下载管理器"><a href="#Chrono下载管理器" class="headerlink" title="Chrono下载管理器"></a>Chrono下载管理器</h2><p>做Chrome浏览器中最好的下载管理器。</p>
<h2 id="Fatkun图片批量下载"><a href="#Fatkun图片批量下载" class="headerlink" title="Fatkun图片批量下载"></a>Fatkun图片批量下载</h2><p>找出当前页面的所有图片，提供按分辨率、链接等筛选图片，做一个简单好用的下载图片扩展！</p>
<h2 id="Save-to-Pocket"><a href="#Save-to-Pocket" class="headerlink" title="Save to Pocket"></a>Save to Pocket</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/save-to-pocket/niloccemoadcdkdjlinkgdfekeahmflj">Save to Pocket</a></p>
<p>看到感兴趣的先收藏着，然后走哪儿都能看，因为它提供了全平台的APP，方便管理。</p>
<h2 id="WhatRuns"><a href="#WhatRuns" class="headerlink" title="WhatRuns"></a>WhatRuns</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/whatruns/cmkdbmfndkfgebldhnkbfhlneefdaaip">WhatRuns</a></p>
<p>WhatRuns是一款用于了解网站技术的chrome网站技术分析工具，主要能通过分析网站页面所使用的框架、代码等技术以及页面所使用的样式等方面，让使用者能直观的了解网站的整体技术信息。在安装了这款插件后，使用者可以通过点击WhatRuns图标来打开插件窗口，通过该窗口使用者可以轻松了解网站的技术信息</p>
<h2 id="Code-Cola"><a href="#Code-Cola" class="headerlink" title="Code Cola"></a>Code Cola</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/code-cola/lomkpheldlbkkfiifcbfifipaofnmnkn?utm_campaign=en">Code Cola</a></p>
<p>Code Cola是一个可视化编辑在线页面css样式的chrome插件。</p>
<h2 id="Lucidchart-离线图表"><a href="#Lucidchart-离线图表" class="headerlink" title="Lucidchart 离线图表"></a>Lucidchart 离线图表</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/lucidchart-diagrams-deskt/djejicklhojeokkfmdelnempiecmdomj?utm_source=chrome-app-launcher-info-dialog">Lucidchart 离线图表</a></p>
<p>这个扩展程序是一款多功能绘制程序，支持绘制流程图，思维导图，版面设计等，并且有在线和离线两种模式，可谓功能强大。</p>
<h2 id="Clear-Cache"><a href="#Clear-Cache" class="headerlink" title="Clear Cache"></a>Clear Cache</h2><p>链接：<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/clear-cache/cppjkneekbjaeellbfkmgnhonkkjfpdn?utm_source=chrome-app-launcher-info-dialog">Clear Cache</a></p>
<p>点击图标即可清除缓存、cookie等，开发必备！</p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/bakari/p/10709588.html">这些好用的 Chrome 插件，提升你的工作效率</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/skyseraph/Soft-Tools/blob/master/docs/Chrome.md">chrome tools</a></p>
<p><a target="_blank" rel="noopener" href="http://tengj.top/2018/02/17/ggcj/">实用且堪称神器的Chrome插件推荐</a></p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/23228162">有哪些鲜为人知却非常有意思、好用的 Chrome 扩展？</a></p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/19594682">你极力推荐的 Chrome 扩展有哪些？</a></p>
<p><a target="_blank" rel="noopener" href="https://www.crx4chrome.com/">https://www.crx4chrome.com/</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/04/16/Resharper%E5%B7%A5%E5%85%B7%E4%B9%8BStack%20Trace%20Explorer%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/04/16/Resharper%E5%B7%A5%E5%85%B7%E4%B9%8BStack%20Trace%20Explorer%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">Resharper工具之Stack Trace Explorer使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-04-16 10:47:22" itemprop="dateCreated datePublished" datetime="2019-04-16T10:47:22+00:00">2019-04-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Resharper/" itemprop="url" rel="index"><span itemprop="name">Resharper</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>172</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Resharper工具之Stack-Trace-Explorer使用"><a href="#Resharper工具之Stack-Trace-Explorer使用" class="headerlink" title="Resharper工具之Stack Trace Explorer使用"></a>Resharper工具之Stack Trace Explorer使用</h1><p><code>Stack Trace Explorer</code> 显示剪贴板中的堆栈跟踪，并将其中的行转换为可单击的链接，可以直接导航到相关代码。</p>
<p>使用：</p>
<p>1，复制需要调试跟踪的代码，</p>
<p>2，打开Resharper-&gt; Tools -&gt; Browse Stack Trace</p>
<p><img src="/img/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20190416105942.png" alt="微信截图_20190416105942.png"></p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://www.jetbrains.com/help/resharper/Reference__Windows__Stack_Trace_Explorer.html">Stack Trace Explorer</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://syxdevcode.github.com/2019/04/11/%E8%A7%A3%E5%86%B3ssh-keygen%E4%B8%8D%E6%98%AF%E5%86%85%E9%83%A8%E6%88%96%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="syxdevcode">
      <meta itemprop="description" content="syxdevcode的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="syxdevcode博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/04/11/%E8%A7%A3%E5%86%B3ssh-keygen%E4%B8%8D%E6%98%AF%E5%86%85%E9%83%A8%E6%88%96%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4/" class="post-title-link" itemprop="url">解决ssh-keygen不是内部或外部命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-04-11 16:08:08" itemprop="dateCreated datePublished" datetime="2019-04-11T16:08:08+00:00">2019-04-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-18 02:32:06" itemprop="dateModified" datetime="2022-10-18T02:32:06+00:00">2022-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>212</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="解决ssh-keygen不是内部或外部命令"><a href="#解决ssh-keygen不是内部或外部命令" class="headerlink" title="解决ssh-keygen不是内部或外部命令"></a>解决ssh-keygen不是内部或外部命令</h1><p>使用Git生成SSH密钥时，cmd报错：ssh-keygen不是内部或外部命令。</p>
<p>解决：</p>
<p>1，设置环境变量（推荐方法）</p>
<p>找到系统-&gt;高级系统设置-&gt;找到高级-&gt; 环境变量-&gt; 找到Path变量-&gt;选择编辑-添加ssh-keygen.exe路径，如下图：</p>
<p><img src="/img/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20190411163954.png" alt="微信截图_20190411163954.png"></p>
<p>2，找到Git/usr/bin目录下的ssh-keygen.exe</p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zy_281870667/article/details/50443403">ssh-keygen不是内部或外部命令</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/28/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/28/">28</a><span class="page-number current">29</span><a class="page-number" href="/page/30/">30</a><span class="space">&hellip;</span><a class="page-number" href="/page/39/">39</a><a class="extend next" rel="next" href="/page/30/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="syxdevcode"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">syxdevcode</p>
  <div class="site-description" itemprop="description">syxdevcode的个人博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">582</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">143</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">215</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/syxdevcode" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;syxdevcode" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">syxdevcode</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">1.9m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">28:10</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
